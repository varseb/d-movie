(this["webpackJsonpd-movie"]=this["webpackJsonpd-movie"]||[]).push([[0],{82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getConfiguration",(function(){return R}));var r={};n.r(r),n.d(r,"getGenres",(function(){return V}));var c={};n.r(c),n.d(c,"discoverMovies",(function(){return G})),n.d(c,"getMovie",(function(){return L})),n.d(c,"getCredits",(function(){return U})),n.d(c,"getVideos",(function(){return A}));var i={};n.r(i),n.d(i,"getPerson",(function(){return F})),n.d(i,"getMovieCredits",(function(){return D}));var s={};n.r(s),n.d(s,"searchMovies",(function(){return P}));var o={};n.r(o),n.d(o,"default",(function(){return W})),n.d(o,"getConfiguration",(function(){return K}));var u={};n.r(u),n.d(u,"default",(function(){return B})),n.d(u,"getGenres",(function(){return X}));var l={};n.r(l),n.d(l,"default",(function(){return ce})),n.d(l,"openStack",(function(){return ie})),n.d(l,"closeStack",(function(){return se})),n.d(l,"updateVideoState",(function(){return oe})),n.d(l,"openToast",(function(){return ue})),n.d(l,"closeToast",(function(){return le}));var d={};n.r(d),n.d(d,"default",(function(){return be})),n.d(d,"SEARCH_MOVIES_SUCCESS",(function(){return fe})),n.d(d,"updateFilter",(function(){return me})),n.d(d,"updateQuery",(function(){return Oe})),n.d(d,"searchMovies",(function(){return he}));var v={};n.r(v),n.d(v,"default",(function(){return ye})),n.d(v,"GET_MOVIE_CREDITS_SUCCESS",(function(){return Ee})),n.d(v,"getPerson",(function(){return Se})),n.d(v,"getMovieCredits",(function(){return ke}));var j={};n.r(j),n.d(j,"default",(function(){return Me})),n.d(j,"GET_CREDITS_SUCCESS",(function(){return Ce})),n.d(j,"discoverMovies",(function(){return Ge})),n.d(j,"getMovie",(function(){return Le})),n.d(j,"getCredits",(function(){return Ue})),n.d(j,"getVideos",(function(){return Ae}));var f={};n.r(f),n.d(f,"default",(function(){return Ye})),n.d(f,"changeLanguage",(function(){return qe}));var g={};n.r(g),n.d(g,"getGenres",(function(){return Ze}));var b={};n.r(b),n.d(b,"getMovies",(function(){return $e})),n.d(b,"getCast",(function(){return et})),n.d(b,"getDirector",(function(){return tt})),n.d(b,"getYouTubeVideos",(function(){return nt})),n.d(b,"filterMovies",(function(){return at})),n.d(b,"getResults",(function(){return rt}));var m={};n.r(m),n.d(m,"getKnownFor",(function(){return ct}));var O={};n.r(O),n.d(O,"isLoading",(function(){return it}));var h=n(0),p=n(1),E=n.n(p),x=n(13),y=n.n(x),S=n(19),k=n(12),_=n(36),N=(n(53),n(2)),C=n(37),T=n.n(C),w=function(e){var t=e.params||{},n=Object(N.a)(Object(N.a)({},e),{},{url:"https://api.themoviedb.org/3"+e.url,params:Object(N.a)(Object(N.a)({},t),{},{api_key:"0d350753f143701136974b765ca31ac5"})});return T()(n)},M=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(a){return e({type:t,payload:Object(N.a)(Object(N.a)({},n),{},{data:a.data})})}},I=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(a){var r=(a.response||{data:{}}).data;return e({type:t,payload:Object(N.a)(Object(N.a)({},n),{},{error:r.error})})}},R=function(){return w({method:"GET",url:"/configuration"})},V=function(e){var t=e.language;return w({method:"GET",url:"/genre/movie/list",params:{language:t}})},G=function(e){var t=e.page,n=e.language;return w({method:"GET",url:"/discover/movie",params:{page:t,language:n}})},L=function(e){var t=e.id,n=e.language;return w({method:"GET",url:"/movie/".concat(t),params:{language:n}})},U=function(e){var t=e.id;return w({method:"GET",url:"/movie/".concat(t,"/credits")})},A=function(e){var t=e.id,n=e.language;return w({method:"GET",url:"/movie/".concat(t,"/videos"),params:{language:n}})},F=function(e){var t=e.personId,n=e.language;return w({method:"GET",url:"/person/".concat(t),params:{language:n}})},D=function(e){var t=e.personId,n=e.language;return w({method:"GET",url:"/person/".concat(t,"/movie_credits"),params:{language:n}})},P=function(e){var t=e.query,n=e.language;return w({method:"GET",url:"/search/movie",params:{query:t,language:n}})},Q={config:a,genre:r,movie:c,person:i,search:s},Y="config/GET_CONFIGURATION_SUCCESS",q={images:{}};function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Y:var r=a.data.images;return{images:r};default:return e}}var K=function(){return function(e){return e({type:"config/GET_CONFIGURATION_REQUEST",meta:Q.config.getConfiguration().then(M(e,Y)).catch(I(e,"config/GET_CONFIGURATION_FAILURE"))})}},H=n(5),z="genre/GET_GENRES_SUCCESS",J={genres:{}};function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case z:var r=a.data.genres;return{genres:r.reduce((function(e,t){return Object(N.a)(Object(N.a)({},e),{},Object(H.a)({},t.id,t))}),{})};default:return e}}var X=function(e){return function(t){return t({type:"genre/GET_GENRES_REQUEST",meta:Q.genre.getGenres(e).then(M(t,z)).catch(I(t,"genre/GET_GENRES_FAILURE"))})}},Z=n(11),$="layout/OPEN_STACK",ee="layout/CLOSE_STACK",te="layout/UPDATE_VIDEO_STATE",ne="layout/OPEN_TOAST",ae="layout/CLOSE_TOAST",re={stack:[],playingVideo:!1,toast:{open:!1,message:null}};function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case $:var r=a.namespace,c=a.props;return Object(N.a)(Object(N.a)({},e),{},{stack:[].concat(Object(Z.a)(e.stack),[{namespace:r,props:c||{}}])});case ee:return Object(N.a)(Object(N.a)({},e),{},{stack:e.stack.slice(0,-1)});case te:return Object(N.a)(Object(N.a)({},e),{},{playingVideo:a.playing});case ne:return Object(N.a)(Object(N.a)({},e),{},{toast:{open:!0,message:a.message}});case ae:return Object(N.a)(Object(N.a)({},e),{},{toast:re.toast});default:return e}}var ie=function(e){return function(t){return function(n){return n({type:$,payload:{namespace:e,props:t}})}}},se=function(){return function(e){return e({type:ee})}},oe=function(e){return function(t){return t({type:te,payload:e})}},ue=function(e){return function(t){return t({type:ne,payload:e})}},le=function(){return function(e){return e({type:ae})}},de="search/UPDATE_QUERY",ve="search/UPDATE_FILTER",je="search/SEARCH_MOVIES_REQUEST",fe="search/SEARCH_MOVIES_SUCCESS",ge={query:"",filter:{rating:null},results:{},loading:{}};function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case de:return Object(N.a)(Object(N.a)({},e),{},{query:a.query});case ve:return Object(N.a)(Object(N.a)({},e),{},{filter:Object(N.a)(Object(N.a)({},e.filter),a)});case je:return Object(N.a)(Object(N.a)({},e),{},{loading:Object(N.a)(Object(N.a)({},e.loading),{},Object(H.a)({},a.query,!0))});case fe:var r=a.query,c=a.data.results;return Object(N.a)(Object(N.a)({},e),{},{loading:Object(N.a)(Object(N.a)({},e.loading),{},Object(H.a)({},r,!1)),results:Object(N.a)(Object(N.a)({},e.results),{},Object(H.a)({},r,c.map((function(e){return e.id}))))});default:return e}}var me=function(e){return function(t){return t({type:ve,payload:e})}},Oe=function(e){return function(t){return t({type:de,payload:e})}},he=function(e){return function(t){return t({type:je,payload:e,meta:Q.search.searchMovies(e).then(M(t,fe,e)).catch(I(t,"search/SEARCH_MOVIES_FAILURE"))})}},pe="person/GET_PERSON_SUCCESS",Ee="person/GET_MOVIE_CREDITS_SUCCESS",xe={persons:{},movies:{}};function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case pe:return Object(N.a)(Object(N.a)({},e),{},{persons:Object(N.a)(Object(N.a)({},e.persons),{},Object(H.a)({},a.personId,a.data))});case Ce:var r=a.data;return Object(N.a)(Object(N.a)({},e),{},{persons:r.cast.reduce((function(t,n){return Object(N.a)(Object(N.a)({},t),{},Object(H.a)({},n.id,Object(N.a)(Object(N.a)({},e.persons[n.id]||{}),{},{id:n.id,name:n.name,profile_path:n.profile_path})))}),Object(N.a)({},e.persons))});case Ee:var c=a.data.cast;return Object(N.a)(Object(N.a)({},e),{},{movies:Object(N.a)(Object(N.a)({},e.movies),{},Object(H.a)({},a.personId,Object(Z.a)(new Set(Object(Z.a)(c.map((function(e){return e.id})))))))});default:return e}}var Se=function(e){return function(t){return t({type:"person/GET_PERSON_REQUEST",meta:Q.person.getPerson(e).then(M(t,pe,e)).catch(I(t,"person/GET_PERSON_FAILURE"))})}},ke=function(e){return function(t){return t({type:"person/GET_MOVIE_CREDITS_REQUEST",meta:Q.person.getMovieCredits(e).then(M(t,Ee,e)).catch(I(t,"person/GET_MOVIE_CREDITS_FAILURE"))})}},_e="movie/DISCOVER_MOVIES_SUCCESS",Ne="movie/GET_MOVIE_SUCCESS",Ce="movie/GET_CREDITS_SUCCESS",Te="movie/GET_VIDEOS_SUCCESS",we={list:[],movies:{},credits:{},videos:{}};function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case _e:var r=a.data.results,c=r.map((function(e){return e.id}));return Object(N.a)(Object(N.a)({},e),{},{list:1===a.page?c:Object(Z.a)(new Set([].concat(Object(Z.a)(e.list),Object(Z.a)(c)))),movies:Ve({state:e,results:r})});case fe:var i=a.data.results;return Object(N.a)(Object(N.a)({},e),{},{movies:Ve({state:e,results:i})});case Ne:var s=a.id,o=a.data;return Object(N.a)(Object(N.a)({},e),{},{movies:Object(N.a)(Object(N.a)({},e.movies),{},Object(H.a)({},s,Object(N.a)(Object(N.a)({},e.movies[s]),Re(o))))});case Ce:var u=a.id,l=a.data;return Object(N.a)(Object(N.a)({},e),{},{credits:Object(N.a)(Object(N.a)({},e.credits),{},Object(H.a)({},u,l))});case Te:var d=a.id,v=a.language,j=a.data.results;return Object(N.a)(Object(N.a)({},e),{},{videos:Object(N.a)(Object(N.a)({},e.videos),{},Object(H.a)({},d,Object(N.a)(Object(N.a)({},e.videos[d]||{}),{},Object(H.a)({},v,j))))});case Ee:var f=a.data.cast;return Object(N.a)(Object(N.a)({},e),{},{movies:Ve({state:e,results:f})});default:return e}}var Ie,Re=function(e){var t={id:e.id,title:e.title,poster_path:e.poster_path,backdrop_path:e.backdrop_path,original_language:e.original_language,genre_ids:e.genre_ids||(e.genres||[]).map((function(e){return e.id})),vote_average:e.vote_average,overview:e.overview,release_date:e.release_date,popularity:e.popularity};return e.runtime&&(t.runtime=e.runtime),t},Ve=function(e){var t=e.state;return e.results.reduce((function(e,n){return Object(N.a)(Object(N.a)({},e),{},Object(H.a)({},n.id,Object(N.a)(Object(N.a)({},t.movies[n.id]||{}),Re(n))))}),Object(N.a)({},t.movies))},Ge=function(e){return function(t){return t({type:"movie/DISCOVER_MOVIES_REQUEST",meta:Q.movie.discoverMovies(e).then(M(t,_e,e)).catch(I(t,"movie/DISCOVER_MOVIES_FAILURE"))})}},Le=function(e){return function(t){return t({type:"movie/GET_MOVIE_REQUEST",meta:Q.movie.getMovie(e).then(M(t,Ne,e)).catch(I(t,"movie/GET_MOVIE_FAILURE"))})}},Ue=function(e){return function(t){return t({type:"movie/GET_CREDITS_REQUEST",meta:Q.movie.getCredits(e).then(M(t,Ce,e)).catch(I(t,"movie/GET_CREDITS_FAILURE"))})}},Ae=function(e){return function(t){return t({type:"movie/GET_VIDEOS_REQUEST",meta:Q.movie.getVideos(e).then(M(t,Te,e)).catch(I(t,"movie/GET_VIDEOS_FAILURE"))})}},Fe=n(4),De={loading:{},success:{},failure:{}};var Pe="user/CHANGE_LAGUAGE",Qe={language:(null===(Ie=navigator.language)||void 0===Ie?void 0:Ie.substr(0,2))||"en"};function Ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Pe:return Object(N.a)(Object(N.a)({},e),{},{language:a.language});default:return e}}var qe=function(e){return function(t){return t({type:Pe,payload:e})}},We=Object(k.c)({config:W,genre:B,layout:ce,movie:Me,person:ye,search:be,status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=(t.payload,/(\w+)\/(\w+)_(REQUEST|SUCCESS|ERROR)/.exec(n));if(!a)return e;var r=Object(Fe.a)(a,4),c=r[1],i=r[2],s=r[3],o="".concat(c,"/").concat(i);return Object(N.a)(Object(N.a)({},e),{},{loading:Object(N.a)(Object(N.a)({},e.loading),{},Object(H.a)({},o,"REQUEST"===s)),success:Object(N.a)(Object(N.a)({},e.success),{},Object(H.a)({},o,"SUCCESS"===s)),failure:Object(N.a)(Object(N.a)({},e.failure),{},Object(H.a)({},o,"FAILURE"===s))})},user:Ye}),Ke=[_.a];var He=Object(k.e)(We,function(){try{return JSON.parse(window.localStorage.getItem("d-movie-state"))||{}}catch(e){return{}}}(),k.d.apply(void 0,[k.a.apply(void 0,Ke)].concat([])));He.subscribe((function(){var e=He.getState();!function(e){try{window.localStorage.setItem("d-movie-state",JSON.stringify(e))}catch(t){}}({config:e.config,genres:e.genres})}));var ze=He,Je=n(3),Be=n.n(Je),Xe=n(10),Ze=Object(Xe.a)((function(e){return e.genre.genres}),(function(e){return e.movie.movies}),(function(e){return e.id}),(function(e,t,n){return t[n].genre_ids.map((function(t){return e[t]}))})),$e=Object(Xe.a)((function(e){return e.movie}),(function(e){return(e.list||[]).map((function(t){return e.movies[t]}))})),et=Object(Xe.a)((function(e){return e.movie.credits}),(function(e){return e.id}),(function(e,t){return e[t]?e[t].cast:[]})),tt=Object(Xe.a)((function(e){return e.movie.credits}),(function(e){return e.id}),(function(e,t){return e[t]?e[t].crew.find((function(e){return"Director"===e.job})):null})),nt=Object(Xe.a)((function(e){return e.movie.videos}),(function(e){return e.user.language}),(function(e){return e.id}),(function(e,t,n){return(e[n]&&e[n][t]||[]).filter((function(e){return"YouTube"===e.site}))})),at=Object(Xe.a)((function(e){return e.movies}),(function(e){return e.rating}),(function(e,t){return e.filter((function(e){var n=e.vote_average;return n&&n>t-2&&n<=t}))})),rt=Object(Xe.a)((function(e){return e.movie}),(function(e){var t=e.search;return[t.query,t.filter.rating,t.results]}),(function(e,t){var n,a=Object(Fe.a)(t,3),r=a[0],c=a[1],i=a[2];return n=r?(i[r]||[]).map((function(t){return e.movies[t]})):$e({movie:e}),null!==c&&(n=at({movies:n,rating:c})),n.slice(0,20)})),ct=Object(Xe.a)((function(e){return e.movie.movies}),(function(e){return e.person.movies}),(function(e){return e.personId}),(function(e,t,n){var a=(t[n]||[]).map((function(t){return e[t]}));return a.sort((function(e,t){return t.popularity-e.popularity})),a.slice(0,25)})),it=Object(Xe.a)((function(e){return e.status.loading}),(function(e){return Object.values(e).some((function(e){return e}))})),st={genre:g,movie:b,person:m,status:O},ot={config:o,genre:u,layout:l,movie:j,person:v,search:d,user:f},ut=function(e,t,n){return Object(S.b)(e,t&&function(e){return Object(k.b)(t,e)})(n)},lt=function(e){var t=e.language,n=e.size;return Object(h.jsx)("div",{className:Be()("ui-lang",n),children:t})},dt=ut((function(e){return{language:e.user.language}}),{openLanguage:ot.layout.openStack("language"),openSearch:ot.layout.openStack("search")},(function(e){var t=e.language,n=e.openLanguage,a=e.openSearch;return Object(h.jsxs)("div",{className:"ui-header",children:[Object(h.jsx)("div",{className:"ui-header-title",children:Object(h.jsx)("h1",{children:"MUST WATCH"})}),Object(h.jsxs)("div",{className:"ui-header-nav",children:[Object(h.jsx)("div",{className:"ui-header-language ui-clickable",onClick:function(){return n()},children:Object(h.jsx)(lt,{language:t})}),Object(h.jsx)("div",{className:"ui-header-search ui-clickable",onClick:function(){return a()},children:Object(h.jsx)("i",{className:"icon-search"})})]})]})})),vt=n(38),jt=n(84),ft={enter:400,exit:300},gt=function(e){var t=e.namespace,n=e.active,a=e.children,r=Object(vt.a)(e,["namespace","active","children"]),c=Object(p.useRef)(null);return Object(h.jsx)(jt.a,Object(N.a)(Object(N.a)({nodeRef:c,timeout:ft},r),{},{children:Object(h.jsx)("section",{ref:c,className:Be()("ui-layer",t,{active:n}),children:a})}))},bt=n(85),mt=function(e){var t=e.children;return Object(h.jsx)(bt.a,{component:null,children:t})},Ot=function(e,t,n){var a=Object(p.useState)(0),r=Object(Fe.a)(a,2),c=r[0],i=r[1];return Object(p.useEffect)((function(){i(0)}),[i]),Object(p.useEffect)((function(){var a=t.current,r=null,c=null,s=!1,o=!1,u=!0,l=function(e){var t=e.touches;r=t[0].clientY,o=0===a.scrollTop||r<45,u=!0},d=function(e){var t=e.touches;if(o&&!s)if(null===c&&(c=t[0].clientY),c<r)o=!1;else{var a=c-t[0].clientY;if(a<0){u&&document.activeElement&&(document.activeElement.blur(),u=!1);var l=Math.abs(a)/800;i(l),l>.25&&!s&&(n(),s=!0)}}},v=function(){c=null,o=!1,s||i(0)},j=e.current;if(j)return j.addEventListener("touchstart",l),j.addEventListener("touchmove",d),j.addEventListener("touchend",v),function(){j.removeEventListener("touchstart",l),j.removeEventListener("touchmove",d),j.removeEventListener("touchend",v)}}),[e,t,i,n]),c},ht=function(e,t){Object(p.useEffect)((function(){if(e){var n=function(e){27===e.keyCode&&t()};return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}}),[e,t])},pt=n(24),Et=function(e){Object(p.useEffect)((function(){var t=e.current;if(t)return Object(pt.a)(t,{allowTouchMove:function(e){return e.matches(".scroll-lock-ignore")||e.closest(".scroll-lock-ignore")}}),function(){Object(pt.b)(t)}}),[e])},xt=function(e){Object(p.useEffect)((function(){var t=document.title;return document.title="".concat(e," - Must Watch"),function(){document.title=t}}),[e])},yt=function(e){var t=Object(p.useState)({value:e,original:e}),n=Object(Fe.a)(t,2),a=n[0],r=n[1];return Object(p.useEffect)((function(){e!==a.value&&r(Object(N.a)(Object(N.a)({},a),{},{value:e}))}),[e,a,r]),e!==a.original},St=function(e){var t=e.loading,n=Object(p.useState)(0),a=Object(Fe.a)(n,2),r=a[0],c=a[1];return Object(p.useEffect)((function(){if(t){var e=setTimeout((function(){return c(r+1)}),1e3);return function(){return clearTimeout(e)}}}),[t,r,c]),Object(h.jsx)("div",{className:Be()("ui-stack-indicator",{loading:t,loop:r%2})})},kt=function(e){var t=e.active,n=e.loading,a=e.closeStack,r=e.children,c=Object(p.useRef)(null),i=Object(p.useRef)(null);Et(i),ht(t,a);var s=Ot(c,i,a);return Object(h.jsx)("div",{className:Be()("ui-stack-wrap",{closing:0!==s}),style:{transform:"scale(".concat(1-s,") translate3d(0,0,0)")},children:Object(h.jsxs)("div",{ref:c,className:"ui-stack",children:[Object(h.jsx)(St,{loading:n}),Object(h.jsx)("div",{className:"ui-stack-close ui-clickable",onClick:a,children:Object(h.jsx)("i",{className:"icon-close"})}),Object(h.jsx)("div",{ref:i,className:"ui-stack-content",children:r})]})})},_t=["en","es","pt"],Nt={en:"English",es:"Espa\xf1ol",pt:"Portugu\xeas"},Ct=ut((function(e){return{language:e.user.language}}),{changeLanguage:ot.user.changeLanguage,closeStack:ot.layout.closeStack},(function(e){var t=e.language,n=e.changeLanguage,a=e.closeStack;return Object(h.jsx)("div",{className:"language-stack",children:Object(h.jsx)("ul",{children:_t.map((function(e){return Object(h.jsxs)("li",{className:"ui-clickable",onClick:function(){n({language:e}),a()},children:[Object(h.jsx)("div",{className:"language-stack-lang",children:Object(h.jsx)(lt,{language:e,size:"x38"})}),Object(h.jsx)("div",{className:Be()("language-stack-name",{active:t===e}),children:Nt[e]})]},e)}))})})})),Tt=function(e){var t=Object(p.useState)(!1),n=Object(Fe.a)(t,2),a=n[0],r=n[1],c=Object(p.useState)(!1),i=Object(Fe.a)(c,2),s=i[0],o=i[1];return Object(h.jsx)("img",Object(N.a)({alt:"",className:Be()("ui-image",{loaded:a,error:s}),onLoad:function(){r(!0)},onError:function(){o(!0)}},e))},wt=ut((function(e,t){var n=e.config,a=e.movie,r=t.id;return{movie:a.movies[r],config:n.images}}),null,(function(e){var t=e.movie,n=t.title,a=t.poster_path,r=e.config,c=e.onClick,i=e.size,s=void 0===i?"w500":i,o=[r.secure_base_url,s,a].join("");return Object(h.jsx)("div",{className:"ui-poster",onClick:c,children:Object(h.jsxs)("div",{className:Be()("ui-poster-content",{"no-image":!a}),children:[a&&Object(h.jsx)(Tt,{src:o}),!a&&Object(h.jsx)("div",{className:"ui-poster-title",children:n})]})})})),Mt=Object(Z.a)(Array(5).keys()),It=function(e){var t=e.voteAverage,n=e.onChange;return Object(h.jsx)("div",{className:"ui-rating",children:Mt.map((function(e){return Object(h.jsx)("i",{onClick:function(){n&&n(e)},"data-rating":t,className:Be()("icon-star-outline",{"icon-star-half":null!==t&&t>2*e,"icon-star-rate":null!==t&&t>=2*e+1,"ui-clickable":n})},e)}))})},Rt=function(e,t,n){var a=2*(e+1);n({rating:a===t.rating?null:a})},Vt=ut((function(e){var t=e.user,n=e.search,a=e.movie;return{language:t.language,query:n.query,filter:n.filter,loading:n.loading[n.query],results:st.movie.getResults({movie:a,search:n})}}),{updateFilter:ot.search.updateFilter,updateQuery:ot.search.updateQuery,searchMovies:ot.search.searchMovies,openMovie:ot.layout.openStack("movie")},(function(e){var t=e.active,n=e.language,a=e.query,r=e.filter,c=e.loading,i=e.results,s=e.updateQuery,o=e.updateFilter,u=e.searchMovies,l=e.openMovie;return xt("Search"),Object(p.useEffect)((function(){a&&u({query:a,language:n})}),[a,n,u]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"search-stack-head",children:Object(h.jsxs)("div",{className:"search-stack-input-wrapper",children:[Object(h.jsx)("input",{autoFocus:t,type:"text",placeholder:"search movies",value:a,onChange:function(e){return s({query:e.target.value})},className:"search-stack-input"}),Object(h.jsx)("i",{className:"icon-search"}),Object(h.jsx)("div",{className:"search-stack-input-rating",children:Object(h.jsx)(It,{voteAverage:r.rating,onChange:function(e){return Rt(e,r,o)}})})]})}),!c&&!i.length&&Object(h.jsx)("div",{className:"search-stack-empty fade-in",children:Object(h.jsx)("p",{children:"No movies found"})}),i.length>0&&Object(h.jsx)("div",{className:"search-stack-grid",children:i.map((function(e){var t=e.id;return Object(h.jsx)("div",{className:"search-stack-grid-item",children:Object(h.jsx)(wt,{id:t,size:"w342",onClick:function(){return l({id:t})}})},t)}))})]})})),Gt=function(e){var t=e.lineClamp,n=void 0===t?"x3":t,a=e.className,r=e.children,c=Object(p.useState)(!1),i=Object(Fe.a)(c,2),s=i[0],o=i[1];return Object(h.jsx)("p",{onClick:function(){return o(!0)},className:Be()("ui-text-clamp",n,a,{"show-all":s}),children:r})},Lt=ut((function(e){return{config:e.config.images}}),null,(function(e){var t=e.movie,n=t.backdrop_path,a=t.poster_path,r=n||a,c=[e.config.secure_base_url,"w1280",r].join("");return Object(h.jsx)("div",{className:"ui-backdrop",children:r&&Object(h.jsx)(Tt,{src:c})})})),Ut=n(14),At=n.n(Ut),Ft=function(e){var t=e.releaseDate,n=e.originalLanguage,a=e.runTime,r=yt(a),c=[];if(t&&c.push(Object(h.jsx)("span",{children:At()(t).format("Y")},t)),n&&c.push(Object(h.jsx)("span",{children:n.toUpperCase()},n)),a>0){var i=Math.floor(a/60),s=Math.floor(a%60%60);c.push(Object(h.jsxs)("span",{className:Be()({"fade-in":r}),children:[i>0&&"".concat(i,"h")," ",s>0&&"".concat(s,"m")]},a))}return Object(h.jsx)("div",{className:"ui-info",children:c.reduce((function(e,t){return[e," / ",t]}))})},Dt=function(e){var t=e.genres;return Object(h.jsx)("div",{className:"ui-genres",children:t.map((function(e){return e.name})).reduce((function(e,t){return[e,", ",t]}))})},Pt=function(e){var t=e.title,n=e.value;return Object(h.jsxs)("div",{className:"ui-credits",children:[Object(h.jsx)("div",{className:"ui-credits-title",children:t}),Object(h.jsx)("div",{className:"ui-credits-value",children:n})]})},Qt=function(e){var t=e.name,n=e.videoKey,a=e.openVideo;return Object(h.jsxs)("div",{className:"ui-videos-item-wrap",onClick:function(){return a({title:t,videoKey:n})},children:[Object(h.jsx)("div",{className:"ui-videos-item",children:Object(h.jsx)("div",{className:"ui-videos-item-thumb",children:Object(h.jsx)(Tt,{src:"https://img.youtube.com/vi/".concat(n,"/hqdefault.jpg")})})}),Object(h.jsx)("div",{className:"ui-videos-item-name",title:t,children:t})]})},Yt=ut(null,{openVideo:ot.layout.openStack("video")},(function(e){var t=e.videos,n=e.openVideo;return Object(h.jsx)("div",{className:"ui-videos",children:t.map((function(e){var t=e.id,a=e.name,r=e.key;return Object(h.jsx)(Qt,{name:a,videoKey:r,openVideo:n},t)}))})})),qt=ut((function(e,t){var n=e.user,a=e.movie,r=e.genre,c=e.status,i=t.id;return{language:n.language,movie:a.movies[i],genres:st.genre.getGenres({genre:r,movie:a,id:i}),cast:st.movie.getCast({movie:a,id:i}),director:st.movie.getDirector({movie:a,id:i}),videos:st.movie.getYouTubeVideos({movie:a,user:n,id:i}),loadingCredits:c.loading["movie/GET_CREDITS"]}}),{getMovie:ot.movie.getMovie,getCredits:ot.movie.getCredits,getVideos:ot.movie.getVideos,openCast:ot.layout.openStack("cast")},(function(e){var t=e.id,n=e.language,a=e.movie,r=e.genres,c=e.cast,i=e.director,s=e.videos,o=e.loadingCredits,u=e.getMovie,l=e.getCredits,d=e.getVideos,v=e.openCast,j=a.title,f=a.vote_average,g=a.release_date,b=a.runtime,m=a.overview,O=a.original_language;xt(j),Object(p.useEffect)((function(){u({id:t,language:n})}),[t,n,u]),Object(p.useEffect)((function(){l({id:t})}),[t,l]),Object(p.useEffect)((function(){d({id:t,language:n})}),[t,n,d]);var E=Object(p.useMemo)((function(){var e=c.slice(0,3).map((function(e){return e.name}));return e.length!==c.length&&e.push("+".concat(c.length-e.length)),e}),[c]),x=yt(E.length),y=yt(null===i||void 0===i?void 0:i.name),S=yt(s.length);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"movie-stack-backdrop",children:[Object(h.jsx)(Lt,{movie:a}),Object(h.jsx)("img",{className:"thanks-themoviedb",src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg",alt:""})]}),Object(h.jsxs)("div",{className:"movie-stack-content",children:[Object(h.jsxs)("div",{className:"ui-stack-head",children:[Object(h.jsx)("h1",{className:"movie-stack-title",children:j}),f>0&&Object(h.jsx)("div",{className:"movie-stack-rating",children:Object(h.jsx)(It,{voteAverage:f})}),(g||O||b>0)&&Object(h.jsx)("div",{className:"movie-stack-info",children:Object(h.jsx)(Ft,{releaseDate:g,originalLanguage:O,runTime:b})})]}),m&&Object(h.jsx)("div",{className:"show-up-primary",children:Object(h.jsx)("div",{className:"movie-stack-overview",children:Object(h.jsx)(Gt,{lineClamp:"x4",children:m})})}),Object(h.jsx)("div",{className:"show-up-secondary",children:r.length>0&&Object(h.jsx)("div",{className:"movie-stack-genres",children:Object(h.jsx)(Dt,{genres:r})})}),Object(h.jsxs)("div",{className:"show-up-tertiary",children:[c.length>0&&Object(h.jsx)("div",{onClick:function(){return v({id:t})},className:Be()("movie-stack-credits ui-tapable",{"fade-in":x}),children:Object(h.jsx)(Pt,{title:"Cast",value:E.reduce((function(e,t){return[e,", ",t]}))})}),i&&Object(h.jsx)("div",{className:Be()("movie-stack-credits",{"fade-in":y}),children:Object(h.jsx)(Pt,{title:"Director",value:i.name})}),(c.length>0||i||!o)&&s.length>0&&Object(h.jsxs)("div",{className:Be()("movie-stack-videos",{"fade-in":S}),children:[Object(h.jsx)("div",{className:"movie-stack-videos-title",children:"Videos"}),Object(h.jsx)("div",{className:"movie-stack-videos-wrap scroll-lock-ignore",children:Object(h.jsx)(Yt,{videos:s})})]})]})]})]})})),Wt=n(39),Kt=function(e){var t=e.playerRef,n=Object(p.useState)(0),a=Object(Fe.a)(n,2),r=a[0],c=a[1];return Object(p.useEffect)((function(){var e=t.current;if(e){var n=e.getDuration()||1,a=setInterval((function(){c(e.getCurrentTime()/n*100)}),500);return function(){return clearInterval(a)}}}),[t,c]),Object(h.jsx)("div",{className:"video-progress",children:Object(h.jsx)("div",{className:"video-progress-fill",style:{transform:"translate3d(-".concat(100-r,"%, 0, 0)")}})})},Ht=ut((function(e){return{playingVideo:e.layout.playingVideo}}),{updateVideoState:ot.layout.updateVideoState,openToast:ot.layout.openToast,closeStack:ot.layout.closeStack},(function(e){var t=e.title,n=e.videoKey,a=e.playingVideo,r=e.updateVideoState,c=e.openToast,i=e.closeStack,s=Object(p.useRef)(null),o=Object(p.useState)(!1),u=Object(Fe.a)(o,2),l=u[0],d=u[1];Object(p.useEffect)((function(){return function(){r({playing:!1})}}),[r]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Wt.a,{videoId:n,containerClassName:"video-stack",className:Be()("video-stack-frame",{ready:l,playing:a}),onReady:function(e){s.current=e.target,s.current.setVolume(100),d(!0)},onPlay:function(){return r({playing:!0})},onEnd:function(){return i()},onError:function(){i(),c({message:"Video unavailable, try again later"})},opts:{title:"".concat(t," - Must Watch"),width:"100%",height:"100%",playerVars:{autoplay:1,modestbranding:1,iv_load_policy:3,rel:0,controls:0}}}),Object(h.jsx)("div",{className:"video-stack-overlay",onClick:function(){s.current&&l&&(1!==s.current.getPlayerState()&&s.current.playVideo())},children:a&&Object(h.jsx)(Kt,{playerRef:s})})]})})),zt={x50:"w185",x185:"h632"},Jt=ut((function(e){return{config:e.config.images}}),null,(function(e){var t=e.size,n=void 0===t?"x50":t,a=e.person.profile_path,r=e.config,c=e.placeholder,i=Object(p.useState)(a),s=Object(Fe.a)(i,1)[0],o=[r.secure_base_url,zt[c],s].join(""),u=[r.secure_base_url,zt[n],a].join("");return Object(h.jsxs)("div",{className:Be()("ui-person-picture",n,{"no-image":!a}),children:[c&&s&&Object(h.jsx)(Tt,{src:o}),a&&Object(h.jsx)(Tt,{src:u},u)]})})),Bt={language:Ct,search:Vt,movie:qt,video:Ht,cast:ut((function(e,t){var n=e.movie,a=t.id;return{title:n.movies[a].title,credits:n.credits[a]}}),{openPerson:ot.layout.openStack("person")},(function(e){var t=e.credits,n=e.title,a=e.openPerson;return Object(h.jsxs)("div",{className:"cast-stack",children:[Object(h.jsxs)("div",{className:"ui-stack-head",children:[Object(h.jsx)("h2",{children:n}),Object(h.jsx)("div",{className:"cast-stack-subtitle",children:"Cast"})]}),Object(h.jsx)("div",{className:"show-up-primary",children:Object(h.jsx)("div",{className:"cast-stack-list",children:t.cast.map((function(e){return Object(h.jsxs)("div",{className:"cast-stack-item ui-tapable",onClick:function(){return a({personId:e.id})},children:[Object(h.jsx)("div",{className:"cast-stack-item-picture",children:Object(h.jsx)(Jt,{person:e})}),Object(h.jsxs)("div",{className:"cast-stack-item-info",children:[Object(h.jsx)("div",{className:"cast-stack-item-name",children:e.name}),e.character&&Object(h.jsx)("div",{className:"cast-stack-item-character",children:e.character})]})]},e.credit_id)}))})})]})})),person:ut((function(e,t){var n=e.user,a=e.movie,r=e.person,c=t.personId;return{person:r.persons[c],language:n.language,knownFor:st.person.getKnownFor({movie:a,person:r,personId:c})}}),{getPerson:ot.person.getPerson,getMovieCredits:ot.person.getMovieCredits,openMovie:ot.layout.openStack("movie")},(function(e){var t=e.personId,n=e.language,a=e.person,r=e.knownFor,c=e.getPerson,i=e.getMovieCredits,s=e.openMovie;Object(p.useEffect)((function(){c({personId:t,language:n})}),[t,n,c]),Object(p.useEffect)((function(){i({personId:t,language:n})}),[t,n,i]);var o=yt(a.biography);return Object(h.jsxs)("div",{className:"person-stack",children:[Object(h.jsx)("div",{className:"ui-stack-head",children:Object(h.jsx)("h1",{className:"person-stack-name",children:a.name})}),Object(h.jsx)("div",{className:"show-up-primary",children:Object(h.jsx)("div",{className:"person-stack-picture",children:Object(h.jsx)(Jt,{person:a,size:"x185",placeholder:"x50"})})}),Object(h.jsx)("div",{className:"show-up-secondary",children:Object(h.jsxs)("dl",{className:Be()({"fade-in":o}),children:[(a.birthday||a.place_of_birth)&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("dt",{children:"Born"}),Object(h.jsxs)("dd",{children:[a.birthday&&Object(h.jsxs)("div",{children:[At()(a.birthday).format("MMMM D, YYYY")," ",!a.deathday&&"(age ".concat(At()().diff(a.birthday,"years"),")")]}),a.place_of_birth&&Object(h.jsx)("div",{children:a.place_of_birth})]})]}),a.deathday&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("dt",{children:"Died"}),Object(h.jsxs)("dd",{children:[At()(a.deathday).format("MMMM D, YYYY")," (aged ",At()(a.deathday).diff(a.birthday,"years"),")"]})]}),a.biography&&Object(h.jsx)("dd",{className:"person-stack-bio",children:Object(h.jsx)(Gt,{children:a.biography})})]})}),Object(h.jsx)("div",{className:"show-up-tertiary",children:(a.birthday||a.place_of_birth||a.biography)&&r.length>0&&Object(h.jsxs)("div",{className:"person-stack-known-for",children:[Object(h.jsx)("div",{children:"Known For"}),Object(h.jsx)("div",{className:"person-stack-movies scroll-lock-ignore",dir:"ltr",children:Object(h.jsx)("div",{className:"person-stack-movies-scroll",children:r.map((function(e){return Object(h.jsx)("div",{className:"person-stack-movies-movie",children:Object(h.jsx)(wt,{id:e.id,onClick:function(){return s({id:e.id})}})},e.id)}))})})]})})]})}))},Xt=ut((function(e){var t=e.layout,n=e.status;return{stack:t.stack,loading:st.status.isLoading({status:n})}}),{closeStack:ot.layout.closeStack},(function(e){var t=e.stack,n=e.closeStack,a=e.loading;return Object(h.jsx)(mt,{children:t.map((function(e,r){var c=e.namespace,i=e.props,s=t.length===r+1,o=t.length>r+3,u=Bt[c];return o?null:Object(h.jsx)(gt,{namespace:c,active:s,children:Object(h.jsx)(kt,{active:s,loading:s&&a,closeStack:n,children:Object(h.jsx)(u,Object(N.a)({active:s},i))})},"".concat(c,"-").concat(r))}))})})),Zt=function(e){var t=e.message,n=e.closeToast;return Object(p.useEffect)((function(){var e=setTimeout(n,4e3);return function(){clearTimeout(e)}}),[n]),Object(h.jsx)("div",{className:"ui-toast",onClick:n,children:Object(h.jsx)("p",{className:"ui-toast-message",children:t})},t)},$t=ut((function(e){return{toast:e.layout.toast}}),{closeToast:ot.layout.closeToast},(function(e){var t=e.toast,n=e.closeToast;return Object(h.jsx)(mt,{children:t.open&&Object(h.jsx)(gt,{active:!0,namespace:"ui-toast-layer",children:Object(h.jsx)(Zt,{message:t.message,closeToast:n})})})})),en=function(e){e.toast,e.closeToast;var t=Object(p.useState)(!1),n=Object(Fe.a)(t,2),a=n[0],r=n[1];return Object(p.useEffect)((function(){var e=function(){return r(!0)},t=function(){return r(!1)};return window.addEventListener("offline",e),window.addEventListener("online",t),function(){window.removeEventListener("offline",e),window.removeEventListener("online",t)}}),[r]),Object(h.jsx)(mt,{children:a&&Object(h.jsx)(gt,{active:!0,namespace:"ui-offline-layer",children:Object(h.jsx)("div",{className:"ui-offline"})})})},tn=ut((function(e){var t=e.layout;return{stackOpen:t.stack.length>0,playingVideo:t.playingVideo,hasVideoStack:t.stack.find((function(e){return"video"===e.namespace}))}}),null,(function(e){var t=e.stackOpen,n=e.hasVideoStack,a=e.playingVideo,r=e.children;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("main",{className:Be()("ui-main",{"stack-open":t,"playing-video":a,"has-video-stack":n}),children:[Object(h.jsx)("div",{className:"ui-main-header",children:Object(h.jsx)(dt,{})}),Object(h.jsx)("div",{className:"ui-main-content",children:r})]}),Object(h.jsx)(Xt,{}),Object(h.jsx)($t,{}),Object(h.jsx)(en,{})]})})),nn=ut((function(e){var t=e.user,n=e.movie;return{language:t.language,movies:st.movie.getMovies({movie:n})}}),{getConfiguration:ot.config.getConfiguration,getGenres:ot.genre.getGenres,discoverMovies:ot.movie.discoverMovies,openMovie:ot.layout.openStack("movie")},(function(e){var t=e.movies,n=e.language,a=e.getConfiguration,r=e.getGenres,c=e.discoverMovies,i=e.openMovie,s=Object(p.useRef)(null),o=Object(p.useState)(1),u=Object(Fe.a)(o,2),l=u[0],d=u[1],v=Object(p.useState)(0),j=Object(Fe.a)(v,2),f=j[0],g=j[1];Object(p.useEffect)((function(){a()}),[a]),Object(p.useEffect)((function(){r({language:n})}),[n,r]),Object(p.useEffect)((function(){c({page:l,language:n})}),[l,n,c]),Object(p.useEffect)((function(){var e=function(){document.hidden||c({page:l,language:n})};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}),[l,n,c]);var b=Object(p.useMemo)((function(){return t.length}),[t]),m=20,O=window.innerWidth>768?40:20;Object(p.useEffect)((function(){var e=Math.max(b-((f||1)*m+40),0),t=(b-e)/m,n=s.current,a=f+1===l,r=function(e){var n=e.target,r=(n.scrollLeft+window.innerWidth)/(n.scrollWidth||1)*t-f;0===n.scrollLeft&&d(1),r>=.6&&a&&(d(l+1),a=!1)};if(n)return n.addEventListener("scroll",r),function(){n.removeEventListener("scroll",r)}}),[f,l,d,s,b]),Object(p.useLayoutEffect)((function(){var e=s.current,t=Math.max(b-((f||1)*m+40),0),n=b-t,a=function(e){var t=e.target,a=(t.scrollLeft+window.innerWidth)/(t.scrollWidth||1),r=Math.floor(a*n/m);r!==f&&g(r)};if(e)return e.addEventListener("scroll",a),function(){e.removeEventListener("scroll",a)}}),[f,g,b,s]);var E=Math.max((f-1)*m,0),x=E,y=Math.min(E+60,b),S=Array.from({length:y-x},(function(e,t){return t+x})),k=window.innerWidth-O,_=window.innerWidth>768?.3*(k+O):.85*(k+O);return Object(h.jsx)("div",{ref:s,className:"main",children:Object(h.jsxs)("div",{className:"movie-grid",style:{width:(E+S.length)*_},children:[Object(h.jsx)("div",{style:{minWidth:E*_,minHeight:1}}),S.map((function(e,n){var a=t[e];if(!a)return null;var r=a.id,c=e+4>=f*m&&e-4<f*m+m;return Object(h.jsx)("div",{className:"movie-grid-item","data-index":e+1,children:c&&Object(h.jsx)(wt,{id:r,onClick:function(){return i({id:r})}})},n)}))]})})})),an=(n(82),function(){return Object(h.jsx)(S.a,{store:ze,children:Object(h.jsx)(tn,{children:Object(h.jsx)(nn,{})})})}),rn=document.getElementById("root");y.a.render(Object(h.jsx)(E.a.StrictMode,{children:Object(h.jsx)(an,{})}),rn),setTimeout((function(){return rn.classList.add("ready")}),1500)}},[[83,1,2]]]);