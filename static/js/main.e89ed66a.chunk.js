(this["webpackJsonpd-movie"]=this["webpackJsonpd-movie"]||[]).push([[0],{82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getConfiguration",(function(){return D}));var a={};n.r(a),n.d(a,"getMovieGenres",(function(){return F})),n.d(a,"getSerieGenres",(function(){return P}));var i={};n.r(i),n.d(i,"discoverMovies",(function(){return Q})),n.d(i,"getMovie",(function(){return q})),n.d(i,"getCredits",(function(){return Y})),n.d(i,"getVideos",(function(){return W}));var c={};n.r(c),n.d(c,"getPerson",(function(){return K})),n.d(c,"getMovieCredits",(function(){return z}));var s={};n.r(s),n.d(s,"searchMovies",(function(){return H})),n.d(s,"multiSearch",(function(){return B}));var o={};n.r(o),n.d(o,"getSerie",(function(){return J})),n.d(o,"getCredits",(function(){return X})),n.d(o,"getVideos",(function(){return Z}));var u={};n.r(u),n.d(u,"default",(function(){return ne})),n.d(u,"getConfiguration",(function(){return re}));var d={};n.r(d),n.d(d,"GET_MOVIE_CREDITS_REQUEST",(function(){return ie})),n.d(d,"GET_MOVIE_CREDITS_SUCCESS",(function(){return ce})),n.d(d,"GET_MOVIE_CREDITS_FAILURE",(function(){return se})),n.d(d,"GET_SERIE_CREDITS_REQUEST",(function(){return oe})),n.d(d,"GET_SERIE_CREDITS_SUCCESS",(function(){return ue})),n.d(d,"GET_SERIE_CREDITS_FAILURE",(function(){return de})),n.d(d,"default",(function(){return ve})),n.d(d,"getMovieCredits",(function(){return fe})),n.d(d,"getSerieCredits",(function(){return me}));var l={};n.r(l),n.d(l,"default",(function(){return pe})),n.d(l,"getMovieGenres",(function(){return he})),n.d(l,"getSerieGenres",(function(){return Ee}));var v={};n.r(v),n.d(v,"default",(function(){return Te})),n.d(v,"openStack",(function(){return Ie})),n.d(v,"closeStack",(function(){return Re})),n.d(v,"updateVideoState",(function(){return Me})),n.d(v,"openToast",(function(){return we})),n.d(v,"closeToast",(function(){return Ge}));var j={};n.r(j),n.d(j,"default",(function(){return Fe})),n.d(j,"MULTI_SEARCH_SUCCESS",(function(){return Ae})),n.d(j,"updateFilter",(function(){return Pe})),n.d(j,"updateQuery",(function(){return Qe})),n.d(j,"multiSearch",(function(){return qe}));var f={};n.r(f),n.d(f,"default",(function(){return ze})),n.d(f,"GET_MOVIE_CREDITS_SUCCESS",(function(){return We})),n.d(f,"getPerson",(function(){return Je})),n.d(f,"getMovieCredits",(function(){return Xe}));var m={};n.r(m),n.d(m,"default",(function(){return tt})),n.d(m,"discoverMovies",(function(){return at})),n.d(m,"getMovie",(function(){return it}));var b={};n.r(b),n.d(b,"GET_SERIE_REQUEST",(function(){return ct})),n.d(b,"GET_SERIE_SUCCESS",(function(){return st})),n.d(b,"GET_SERIE_FAILURE",(function(){return ot})),n.d(b,"default",(function(){return dt})),n.d(b,"getSerie",(function(){return ft}));var g={};n.r(g),n.d(g,"default",(function(){return pt})),n.d(g,"changeLanguage",(function(){return ht}));var O={};n.r(O),n.d(O,"default",(function(){return xt})),n.d(O,"getMovieVideos",(function(){return yt})),n.d(O,"getSerieVideos",(function(){return kt}));var p={};n.r(p),n.d(p,"getMovieCast",(function(){return Gt})),n.d(p,"getMovieDirector",(function(){return Ut})),n.d(p,"getSerieCast",(function(){return Vt}));var h={};n.r(h),n.d(h,"getMovies",(function(){return Lt})),n.d(h,"getGenres",(function(){return At})),n.d(h,"filterMovies",(function(){return Dt}));var E={};n.r(E),n.d(E,"getKnownFor",(function(){return Ft}));var _={};n.r(_),n.d(_,"getResults",(function(){return Pt}));var S={};n.r(S),n.d(S,"getGenres",(function(){return Qt}));var x={};n.r(x),n.d(x,"isLoading",(function(){return qt}));var y={};n.r(y),n.d(y,"getMovieVideos",(function(){return Yt})),n.d(y,"getSerieVideos",(function(){return Wt}));var k=n(0),N=n(1),C=n(14),T=n(19),I=n(13),R=n(36),M=(n(53),n(2)),w=n(37),G=n.n(w),U="https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg",V=function(e){var t=e.params||{},n=Object(M.a)(Object(M.a)({},e),{},{url:"https://api.themoviedb.org/3"+e.url,params:Object(M.a)(Object(M.a)({},t),{},{api_key:"0d350753f143701136974b765ca31ac5"})});return G()(n)},L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){return e({type:t,payload:Object(M.a)(Object(M.a)({},n),{},{data:r.data})})}},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){var a=(r.response||{data:{}}).data;return e({type:t,payload:Object(M.a)(Object(M.a)({},n),{},{error:a.error})})}},D=function(){return V({method:"GET",url:"/configuration"})},F=function(e){var t=e.language;return V({method:"GET",url:"/genre/movie/list",params:{language:t}})},P=function(e){var t=e.language;return V({method:"GET",url:"/genre/tv/list",params:{language:t}})},Q=function(e){var t=e.page,n=e.language;return V({method:"GET",url:"/discover/movie",params:{page:t,language:n}})},q=function(e){var t=e.id,n=e.language;return V({method:"GET",url:"/movie/".concat(t),params:{language:n}})},Y=function(e){var t=e.id;return V({method:"GET",url:"/movie/".concat(t,"/credits")})},W=function(e){var t=e.id,n=e.language;return V({method:"GET",url:"/movie/".concat(t,"/videos"),params:{language:n}})},K=function(e){var t=e.personId,n=e.language;return V({method:"GET",url:"/person/".concat(t),params:{language:n}})},z=function(e){var t=e.personId,n=e.language;return V({method:"GET",url:"/person/".concat(t,"/movie_credits"),params:{language:n}})},H=function(e){var t=e.query,n=e.language;return V({method:"GET",url:"/search/movie",params:{query:t,language:n}})},B=function(e){var t=e.query,n=e.language;return V({method:"GET",url:"/search/multi",params:{query:t,language:n}})},J=function(e){var t=e.id,n=e.language;return V({method:"GET",url:"/tv/".concat(t),params:{language:n}})},X=function(e){var t=e.id;return V({method:"GET",url:"/tv/".concat(t,"/credits")})},Z=function(e){var t=e.id,n=e.language;return V({method:"GET",url:"/tv/".concat(t,"/videos"),params:{language:n}})},$={config:r,genre:a,movie:i,person:c,search:s,serie:o},ee="config/GET_CONFIGURATION_SUCCESS",te={images:{}};function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case ee:var a=r.data.images;return{images:a};default:return e}}var re=function(){return function(e){return e({type:"config/GET_CONFIGURATION_REQUEST",meta:$.config.getConfiguration().then(L(e,ee)).catch(A(e,"config/GET_CONFIGURATION_FAILURE"))})}},ae=n(4),ie="credit/GET_MOVIE_CREDITS_REQUEST",ce="credit/GET_MOVIE_CREDITS_SUCCESS",se="credit/GET_MOVIE_CREDITS_FAILURE",oe="credit/GET_SERIE_CREDITS_REQUEST",ue="credit/GET_SERIE_CREDITS_SUCCESS",de="credit/GET_SERIE_CREDITS_FAILURE",le={movie:{},serie:{}};function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case ce:var a=r.id,i=r.data,c=i.cast,s=i.crew;return Object(M.a)(Object(M.a)({},e),{},{movie:Object(M.a)(Object(M.a)({},e.movie),{},Object(ae.a)({},a,{cast:je({cast:c}),director:s.find((function(e){return"Director"===e.job}))}))});case ue:var o=r.id,u=r.data.cast;return Object(M.a)(Object(M.a)({},e),{},{serie:Object(M.a)(Object(M.a)({},e.serie),{},Object(ae.a)({},o,{cast:je({cast:u})}))});default:return e}}var je=function(e){return e.cast.map((function(e){return{id:e.id,credit_id:e.credit_id,character:e.character}}))},fe=function(e){return function(t){return t({type:ie,meta:$.movie.getCredits(e).then(L(t,ce,e)).catch(A(t,se))})}},me=function(e){return function(t){return t({type:oe,meta:$.serie.getCredits(e).then(L(t,ue,e)).catch(A(t,de))})}},be="genre/GET_MOVIE_GENRES_SUCCESS",ge="genre/GET_SERIE_GENRES_SUCCESS",Oe={movie:{},serie:{}};function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case be:return Object(M.a)(Object(M.a)({},e),{},{movie:r.data.genres.reduce((function(e,t){return Object(M.a)(Object(M.a)({},e),{},Object(ae.a)({},t.id,t))}),{})});case ge:return Object(M.a)(Object(M.a)({},e),{},{serie:r.data.genres.reduce((function(e,t){return Object(M.a)(Object(M.a)({},e),{},Object(ae.a)({},t.id,t))}),{})});default:return e}}var he=function(e){return function(t){return t({type:"genre/GET_MOVIE_GENRES_REQUEST",meta:$.genre.getMovieGenres(e).then(L(t,be,e)).catch(A(t,"genre/GET_MOVIE_GENRES_FAILURE"))})}},Ee=function(e){return function(t){return t({type:"genre/GET_SERIE_GENRES_REQUEST",meta:$.genre.getSerieGenres(e).then(L(t,ge,e)).catch(A(t,"genre/GET_SERIE_GENRES_FAILURE"))})}},_e=n(12),Se="layout/OPEN_STACK",xe="layout/CLOSE_STACK",ye="layout/UPDATE_VIDEO_STATE",ke="layout/OPEN_TOAST",Ne="layout/CLOSE_TOAST",Ce={stack:[],playingVideo:!1,toast:{open:!1,message:null}};function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Se:var a=r.namespace,i=r.props;return Object(M.a)(Object(M.a)({},e),{},{stack:[].concat(Object(_e.a)(e.stack),[{namespace:a,props:i||{}}])});case xe:return Object(M.a)(Object(M.a)({},e),{},{stack:e.stack.slice(0,-1)});case ye:return Object(M.a)(Object(M.a)({},e),{},{playingVideo:r.playing});case ke:return Object(M.a)(Object(M.a)({},e),{},{toast:{open:!0,message:r.message}});case Ne:return Object(M.a)(Object(M.a)({},e),{},{toast:Ce.toast});default:return e}}var Ie=function(e){return function(t){return function(n){return n({type:Se,payload:{namespace:e,props:t}})}}},Re=function(){return function(e){return e({type:xe})}},Me=function(e){return function(t){return t({type:ye,payload:e})}},we=function(e){return function(t){return t({type:ke,payload:e})}},Ge=function(){return function(e){return e({type:Ne})}},Ue="search/UPDATE_QUERY",Ve="search/UPDATE_FILTER",Le="search/MULTI_SEARCH_REQUEST",Ae="search/MULTI_SEARCH_SUCCESS",De={query:"",filter:{rating:null},results:{},loading:{}};function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Ue:return Object(M.a)(Object(M.a)({},e),{},{query:r.query});case Ve:return Object(M.a)(Object(M.a)({},e),{},{filter:Object(M.a)(Object(M.a)({},e.filter),r)});case Le:return Object(M.a)(Object(M.a)({},e),{},{loading:Object(M.a)(Object(M.a)({},e.loading),{},Object(ae.a)({},r.query,!0))});case Ae:var a=r.query,i=r.data.results;return Object(M.a)(Object(M.a)({},e),{},{loading:Object(M.a)(Object(M.a)({},e.loading),{},Object(ae.a)({},a,!1)),results:Object(M.a)(Object(M.a)({},e.results),{},Object(ae.a)({},a,i.map((function(e){return{id:e.id,media_type:e.media_type}}))))});default:return e}}var Pe=function(e){return function(t){return t({type:Ve,payload:e})}},Qe=function(e){return function(t){return t({type:Ue,payload:e})}},qe=function(e){return function(t){return t({type:Le,payload:e,meta:$.search.multiSearch(e).then(L(t,Ae,e)).catch(A(t,"search/MULTI_SEARCH_FAILURE"))})}},Ye="person/GET_PERSON_SUCCESS",We="person/GET_MOVIE_CREDITS_SUCCESS",Ke={persons:{},movies:{}};function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Ye:var a=r.personId;return Object(M.a)(Object(M.a)({},e),{},{persons:Object(M.a)(Object(M.a)({},e.persons),{},Object(ae.a)({},a,Object(M.a)(Object(M.a)({},e.persons[a]),He(r.data))))});case We:var i=r.data.cast;return Object(M.a)(Object(M.a)({},e),{},{movies:Object(M.a)(Object(M.a)({},e.movies),{},Object(ae.a)({},r.personId,Object(_e.a)(new Set(Object(_e.a)(i.map((function(e){return e.id})))))))});case ce:case ue:var c=r.data,s=c.cast,o=c.crew.filter((function(e){return"Director"===e.job}));return Object(M.a)(Object(M.a)({},e),{},{persons:Be({state:e,results:[].concat(Object(_e.a)(s),Object(_e.a)(o))})});case Ae:var u=r.data.results.filter((function(e){return"person"===e.media_type}));return Object(M.a)(Object(M.a)({},e),{},{persons:Be({state:e,results:u})});default:return e}}var He=function(e){var t={id:e.id,name:e.name,profile_path:e.profile_path,media_type:"person"};return e.known_for_department&&(t.known_for_department=e.known_for_department),e.popularity&&(t.popularity=e.popularity),e.place_of_birth&&(t.place_of_birth=e.place_of_birth),e.birthday&&(t.birthday=e.birthday),e.deathday&&(t.deathday=e.deathday),e.biography&&(t.biography=e.biography),t},Be=function(e){var t=e.state;return e.results.reduce((function(e,n){return Object(M.a)(Object(M.a)({},e),{},Object(ae.a)({},n.id,Object(M.a)(Object(M.a)({},t.persons[n.id]||{}),He(n))))}),Object(M.a)({},t.persons))},Je=function(e){return function(t){return t({type:"person/GET_PERSON_REQUEST",meta:$.person.getPerson(e).then(L(t,Ye,e)).catch(A(t,"person/GET_PERSON_FAILURE"))})}},Xe=function(e){return function(t){return t({type:"person/GET_MOVIE_CREDITS_REQUEST",meta:$.person.getMovieCredits(e).then(L(t,We,e)).catch(A(t,"person/GET_MOVIE_CREDITS_FAILURE"))})}},Ze="movie/DISCOVER_MOVIES_SUCCESS",$e="movie/GET_MOVIE_SUCCESS",et={list:[],movies:{}};function tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Ze:var a=r.data.results,i=a.map((function(e){return e.id}));return Object(M.a)(Object(M.a)({},e),{},{list:1===r.page?i:Object(_e.a)(new Set([].concat(Object(_e.a)(e.list),Object(_e.a)(i)))),movies:rt({state:e,results:a})});case $e:var c=r.id,s=r.data;return Object(M.a)(Object(M.a)({},e),{},{movies:Object(M.a)(Object(M.a)({},e.movies),{},Object(ae.a)({},c,Object(M.a)(Object(M.a)({},e.movies[c]),nt(s))))});case Ae:var o=r.data.results.filter((function(e){return"movie"===e.media_type}));return Object(M.a)(Object(M.a)({},e),{},{movies:rt({state:e,results:o})});case We:var u=r.data.cast;return Object(M.a)(Object(M.a)({},e),{},{movies:rt({state:e,results:u})});default:return e}}var nt=function(e){var t={id:e.id,title:e.title,poster_path:e.poster_path,backdrop_path:e.backdrop_path,original_language:e.original_language,genre_ids:e.genre_ids||(e.genres||[]).map((function(e){return e.id})),vote_average:e.vote_average,overview:e.overview,release_date:e.release_date,popularity:e.popularity,media_type:"movie"};return e.runtime&&(t.runtime=e.runtime),t},rt=function(e){var t=e.state;return e.results.reduce((function(e,n){return Object(M.a)(Object(M.a)({},e),{},Object(ae.a)({},n.id,Object(M.a)(Object(M.a)({},t.movies[n.id]||{}),nt(n))))}),Object(M.a)({},t.movies))},at=function(e){return function(t){return t({type:"movie/DISCOVER_MOVIES_REQUEST",meta:$.movie.discoverMovies(e).then(L(t,Ze,e)).catch(A(t,"movie/DISCOVER_MOVIES_FAILURE"))})}},it=function(e){return function(t){return t({type:"movie/GET_MOVIE_REQUEST",meta:$.movie.getMovie(e).then(L(t,$e,e)).catch(A(t,"movie/GET_MOVIE_FAILURE"))})}},ct="serie/GET_SERIE_REQUEST",st="serie/GET_SERIE_SUCCESS",ot="serie/GET_SERIE_FAILURE",ut={list:[],series:{}};function dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case st:var a=r.id,i=r.data;return Object(M.a)(Object(M.a)({},e),{},{series:Object(M.a)(Object(M.a)({},e.series),{},Object(ae.a)({},a,Object(M.a)(Object(M.a)({},e.series[a]),vt(i))))});case Ae:var c=r.data.results.filter((function(e){return"tv"===e.media_type}));return Object(M.a)(Object(M.a)({},e),{},{series:jt({state:e,results:c})});default:return e}}var lt,vt=function(e){var t={id:e.id,name:e.name,poster_path:e.poster_path,backdrop_path:e.backdrop_path,original_language:e.original_language,genre_ids:e.genre_ids||(e.genres||[]).map((function(e){return e.id})),vote_average:e.vote_average,overview:e.overview,first_air_date:e.first_air_date,popularity:e.popularity,media_type:"tv"};return e.status&&(t.status=e.status),e.last_air_date&&(t.last_air_date=e.last_air_date),e.number_of_seasons&&(t.number_of_seasons=e.number_of_seasons),t},jt=function(e){var t=e.state;return e.results.reduce((function(e,n){return Object(M.a)(Object(M.a)({},e),{},Object(ae.a)({},n.id,Object(M.a)(Object(M.a)({},t.series[n.id]||{}),vt(n))))}),Object(M.a)({},t.series))},ft=function(e){return function(t){return t({type:ct,meta:$.serie.getSerie(e).then(L(t,st,e)).catch(A(t,ot))})}},mt=n(5),bt={loading:{},success:{},failure:{}};var gt="user/CHANGE_LAGUAGE",Ot={language:(null===(lt=navigator.language)||void 0===lt?void 0:lt.substr(0,2))||"en"};function pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case gt:return Object(M.a)(Object(M.a)({},e),{},{language:r.language});default:return e}}var ht=function(e){return function(t){return t({type:gt,payload:e})}},Et="video/GET_MOVIE_VIDEOS_SUCCESS",_t="video/GET_SERIE_VIDEOS_SUCCESS",St={movie:{},serie:{}};function xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Et:var a=r.id,i=r.language,c=r.data.results;return Object(M.a)(Object(M.a)({},e),{},{movie:Object(M.a)(Object(M.a)({},e.movie),{},Object(ae.a)({},a,Object(M.a)(Object(M.a)({},e.movie[a]||{}),{},Object(ae.a)({},i,c.filter((function(e){return"YouTube"===e.site}))))))});case _t:var s=r.id,o=r.language,u=r.data.results;return Object(M.a)(Object(M.a)({},e),{},{serie:Object(M.a)(Object(M.a)({},e.serie),{},Object(ae.a)({},s,Object(M.a)(Object(M.a)({},e.serie[s]||{}),{},Object(ae.a)({},o,u.filter((function(e){return"YouTube"===e.site}))))))});default:return e}}var yt=function(e){return function(t){return t({type:"video/GET_MOVIE_VIDEOS_REQUEST",meta:$.movie.getVideos(e).then(L(t,Et,e)).catch(A(t,"video/GET_MOVIE_VIDEOS_FAILURE"))})}},kt=function(e){return function(t){return t({type:"video/GET_SERIE_VIDEOS_REQUEST",meta:$.serie.getVideos(e).then(L(t,_t,e)).catch(A(t,"video/GET_SERIE_VIDEOS_FAILURE"))})}},Nt=Object(I.c)({config:ne,credit:ve,genre:pe,layout:Te,movie:tt,person:ze,search:Fe,serie:dt,status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=/(\w+)\/(\w+)_(REQUEST|SUCCESS|FAILURE)/.exec(n);if(!r)return e;var a=Object(mt.a)(r,4),i=a[1],c=a[2],s=a[3],o="".concat(i,"/").concat(c);return Object(M.a)(Object(M.a)({},e),{},{loading:Object(M.a)(Object(M.a)({},e.loading),{},Object(ae.a)({},o,"REQUEST"===s)),success:Object(M.a)(Object(M.a)({},e.success),{},Object(ae.a)({},o,"SUCCESS"===s)),failure:Object(M.a)(Object(M.a)({},e.failure),{},Object(ae.a)({},o,"FAILURE"===s))})},user:pt,video:xt}),Ct=[R.a];var Tt=Object(I.e)(Nt,function(){try{return JSON.parse(window.localStorage.getItem("d-movie-state"))||{}}catch(e){return{}}}(),I.d.apply(void 0,[I.a.apply(void 0,Ct)].concat([])));Tt.subscribe((function(){var e=Tt.getState();!function(e){try{window.localStorage.setItem("d-movie-state",JSON.stringify(e))}catch(t){}}({config:e.config,genres:e.genres})}));var It=Tt,Rt=n(3),Mt=n.n(Rt),wt=n(6),Gt=Object(wt.a)((function(e){return e.credit.movie}),(function(e){return e.person.persons}),(function(e){return e.id}),(function(e,t,n){return(e[n]?e[n].cast:[]).map((function(e){var n=e.id,r=e.credit_id,a=e.character;return Object(M.a)(Object(M.a)({},t[n]),{},{credit_id:r,character:a})}))})),Ut=Object(wt.a)((function(e){return e.credit.movie}),(function(e){return e.person.persons}),(function(e){return e.id}),(function(e,t,n){return e[n]&&e[n].director&&t[e[n].director.id]})),Vt=Object(wt.a)((function(e){return e.credit.serie}),(function(e){return e.person.persons}),(function(e){return e.id}),(function(e,t,n){return(e[n]?e[n].cast:[]).map((function(e){var n=e.id,r=e.credit_id,a=e.character;return Object(M.a)(Object(M.a)({},t[n]),{},{credit_id:r,character:a})}))})),Lt=Object(wt.a)((function(e){return e.movie}),(function(e){return(e.list||[]).map((function(t){return e.movies[t]}))})),At=Object(wt.a)((function(e){return e.movie.movies}),(function(e){return e.genre.movie}),(function(e){return e.id}),(function(e,t,n){return e[n].genre_ids.map((function(e){return t[e]}))})),Dt=Object(wt.a)((function(e){return e.movies}),(function(e){return e.rating}),(function(e,t){return e.filter((function(e){var n=e.vote_average;return n&&n>t-2&&n<=t}))})),Ft=Object(wt.a)((function(e){return e.movie.movies}),(function(e){return e.person.movies}),(function(e){return e.personId}),(function(e,t,n){var r=(t[n]||[]).map((function(t){return e[t]}));return r.sort((function(e,t){return t.popularity-e.popularity})),r.slice(0,25)})),Pt=Object(wt.a)((function(e){return e.movie}),(function(e){return e.serie.series}),(function(e){return e.person.persons}),(function(e){var t=e.search;return[t.query,t.filter.rating,t.results]}),(function(e,t,n,r){var a,i=Object(mt.a)(r,3),c=i[0],s=(i[1],i[2]),o={movie:e.movies,person:n,tv:t};if(!(a=c?(s[c]||[]).map((function(e){var t=e.id,n=e.media_type;return o[n][t]})):Lt({movie:e})).length)return[];var u=a[0].id,d=a.reduce((function(e,t){var n=t.id,r=t.media_type,a=t.popularity;return Object(M.a)(Object(M.a)({},e),{},Object(ae.a)({},r,(e[r]||0)+(n!==u&&a||0)))}),{});return a.sort((function(e,t){return t.id===u?1:d[t.media_type]-d[e.media_type]})),a.slice(0,20)})),Qt=Object(wt.a)((function(e){return e.serie.series}),(function(e){return e.genre.serie}),(function(e){return e.id}),(function(e,t,n){return e[n].genre_ids.map((function(e){return t[e]}))})),qt=Object(wt.a)((function(e){return e.status.loading}),(function(e){return Object.values(e).some((function(e){return e}))})),Yt=Object(wt.a)((function(e){return e.video.movie}),(function(e){return e.user.language}),(function(e){return e.id}),(function(e,t,n){return e[n]&&e[n][t]||[]})),Wt=Object(wt.a)((function(e){return e.video.serie}),(function(e){return e.user.language}),(function(e){return e.id}),(function(e,t,n){return e[n]&&e[n][t]||[]})),Kt={credit:p,movie:h,person:E,search:_,serie:S,status:x,video:y},zt={config:u,credit:d,genre:l,layout:v,movie:m,person:f,search:j,serie:b,user:g,video:O},Ht=function(e,t,n){return Object(T.b)(e,t&&function(e){return Object(I.b)(t,e)})(n)},Bt=function(e){var t=e.language,n=e.size;return Object(k.jsx)("div",{className:Mt()("ui-lang",n),children:t})},Jt=Ht((function(e){return{language:e.user.language}}),{openLanguage:zt.layout.openStack("language"),openSearch:zt.layout.openStack("search")},(function(e){var t=e.language,n=e.openLanguage,r=e.openSearch;return Object(k.jsxs)("div",{className:"ui-header",children:[Object(k.jsx)("div",{className:"ui-header-title",children:Object(k.jsx)("h1",{children:"MUST WATCH"})}),Object(k.jsxs)("div",{className:"ui-header-nav",children:[Object(k.jsx)("div",{className:"ui-header-language ui-clickable",onClick:function(){return n()},children:Object(k.jsx)(Bt,{language:t})}),Object(k.jsx)("div",{className:"ui-header-search ui-clickable",onClick:function(){return r()},children:Object(k.jsx)("i",{className:"icon-search"})})]})]})})),Xt=n(38),Zt=n(84),$t={enter:400,exit:300},en=function(e){var t=e.namespace,n=e.active,r=e.children,a=Object(Xt.a)(e,["namespace","active","children"]),i=Object(N.useRef)(null);return Object(k.jsx)(Zt.a,Object(M.a)(Object(M.a)({nodeRef:i,timeout:$t},a),{},{children:Object(k.jsx)("section",{ref:i,className:Mt()("ui-layer",t,{active:n}),children:r})}))},tn=n(85),nn=function(e){var t=e.children;return Object(k.jsx)(tn.a,{component:null,children:t})},rn=function(e,t,n){var r=Object(N.useRef)(),a=Object(N.useState)(0),i=Object(mt.a)(a,2),c=i[0],s=i[1];return Object(N.useEffect)((function(){s(0)}),[s]),Object(N.useEffect)((function(){var a=t.current,i=e.current,c=null,o=null,u=!1,d=!1,l=!0,v=function(e){var t=e.touches;c=t[0].clientY,d=a.scrollTop<=0||c<50,l=!0},j=function(e){var t=e.touches;if(d&&!u)if(null===o&&(o=t[0].clientY),o<c)d=!1;else{var i=o-t[0].clientY;if(i<0){r.current<0&&(a.style.overflow="hidden",a.style.transform="translate3d(0, ".concat(Math.abs(r.current),"px, 0)")),l&&document.activeElement&&(document.activeElement.blur(),l=!1);var v=Math.abs(i)/800;s(v),v>.25&&!u&&(n(),u=!0)}}},f=function(){o=null,d=!1,a.removeAttribute("style"),r.current=0,u||s(0)};if(a&&i)return a.addEventListener("touchstart",v),a.addEventListener("touchmove",j),a.addEventListener("touchend",f),i.addEventListener("touchstart",v),i.addEventListener("touchmove",j),i.addEventListener("touchend",f),function(){a.removeEventListener("touchstart",v),a.removeEventListener("touchmove",j),a.removeEventListener("touchend",f),i.removeEventListener("touchstart",v),i.removeEventListener("touchmove",j),i.removeEventListener("touchend",f)}}),[r,e,t,s,n]),Object(N.useEffect)((function(){var e=t.current,n=function(){e.scrollTop<0&&(r.current=e.scrollTop)};if(e)return e.addEventListener("scroll",n),function(){e.removeEventListener("scroll",n)}}),[t,s]),c},an=function(e,t){Object(N.useEffect)((function(){if(e){var n=function(e){27===e.keyCode&&t()};return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}}),[e,t])},cn=document.getElementById("root"),sn=function(){var e=Object(N.useState)(!1),t=Object(mt.a)(e,2),n=t[0],r=t[1];return Object(N.useEffect)((function(){if(/iP(hone|ad|od)|Android/i.test(navigator.userAgent)){var e=function(){r(!0)},t=function(){r(!1)};return cn.addEventListener("focusin",e),cn.addEventListener("focusout",t),function(){cn.removeEventListener("focusin",e),cn.removeEventListener("focusout",t)}}}),[r]),n},on=n(24),un=function(e){Object(N.useEffect)((function(){var t=e.current;if(t)return Object(on.a)(t,{allowTouchMove:function(e){return e.matches(".scroll-lock-ignore")||e.closest(".scroll-lock-ignore")}}),function(){Object(on.b)(t)}}),[e])},dn=function(e){Object(N.useEffect)((function(){var t=document.title;return document.title="".concat(e," - Must Watch"),function(){document.title=t}}),[e])},ln=function(e){var t=Object(N.useState)({value:e,original:e}),n=Object(mt.a)(t,2),r=n[0],a=n[1];return Object(N.useEffect)((function(){e!==r.value&&a(Object(M.a)(Object(M.a)({},r),{},{value:e}))}),[e,r,a]),e!==r.original},vn=function(e){var t=e.stackRef,n=e.loading,r=Object(N.useState)(0),a=Object(mt.a)(r,2),i=a[0],c=a[1];return Object(N.useEffect)((function(){if(n){var e=setTimeout((function(){return c(i+1)}),1e3);return function(){return clearTimeout(e)}}}),[n,i,c]),Object(k.jsx)("div",{ref:t,className:Mt()("ui-stack-indicator",{loading:n,loop:i%2})})},jn=function(e){var t=e.active,n=e.loading,r=e.closeStack,a=e.children,i=Object(N.useRef)(null),c=Object(N.useRef)(null);un(c),an(t,r);var s=rn(i,c,r);return Object(k.jsx)("div",{className:Mt()("ui-stack-wrap",{closing:0!==s}),style:{transform:"scale(".concat(1-s,")")},children:Object(k.jsxs)("div",{className:"ui-stack",children:[Object(k.jsx)(vn,{stackRef:i,loading:n}),Object(k.jsx)("div",{className:"ui-stack-close ui-clickable",onClick:r,children:Object(k.jsx)("i",{className:"icon-close"})}),Object(k.jsx)("div",{ref:c,className:"ui-stack-content",children:a})]})})},fn=["en","es","pt"],mn={en:"English",es:"Espa\xf1ol",pt:"Portugu\xeas"},bn=Ht((function(e){return{language:e.user.language}}),{changeLanguage:zt.user.changeLanguage,closeStack:zt.layout.closeStack},(function(e){var t=e.language,n=e.changeLanguage,r=e.closeStack;return Object(k.jsx)("div",{className:"language-stack",children:Object(k.jsx)("ul",{children:fn.map((function(e){return Object(k.jsxs)("li",{className:"ui-clickable",onClick:function(){n({language:e}),r()},children:[Object(k.jsx)("div",{className:"language-stack-lang",children:Object(k.jsx)(Bt,{language:e,size:"x38"})}),Object(k.jsx)("div",{className:Mt()("language-stack-name",{active:t===e}),children:mn[e]})]},e)}))})})})),gn=n(11),On=n.n(gn),pn=function(e){var t=Object(N.useState)(!1),n=Object(mt.a)(t,2),r=n[0],a=n[1],i=Object(N.useState)(!1),c=Object(mt.a)(i,2),s=c[0],o=c[1];return Object(k.jsx)("img",Object(M.a)({alt:"",className:Mt()("ui-image",{loaded:r,error:s}),onLoad:function(){a(!0)},onError:function(){o(!0)}},e))},hn=Ht((function(e,t){var n=e.config;t.id;return{config:n.images}}),null,(function(e){var t=e.media,n=t.title,r=t.name,a=t.poster_path,i=e.config,c=e.onClick,s=e.size,o=void 0===s?"w500":s,u=[i.secure_base_url,o,a].join("");return Object(k.jsx)("div",{className:"media-poster",onClick:c,children:Object(k.jsxs)("div",{className:"media-poster-content",children:[a&&Object(k.jsx)(pn,{src:u}),!a&&Object(k.jsx)("div",{className:"media-poster-holder",children:n||r})]})})})),En=function(e){var t=e.result,n=e.isTopResult,r=e.openMovie,a=t.id,i=t.title,c=t.release_date;return Object(k.jsx)("div",{onClick:function(){return r({id:a})},className:Mt()("search-stack-grid-item",{"top-result":n}),children:Object(k.jsxs)("div",{className:"content ui-tapable ui-tapable-round",children:[Object(k.jsx)("div",{className:"search-stack-grid-item-poster",children:Object(k.jsx)(hn,{media:t,size:"w185"})}),n&&Object(k.jsxs)("div",{className:"search-stack-grid-item-info",children:[Object(k.jsx)("div",{className:"media-type",children:"Movie"}),Object(k.jsx)("div",{className:"title",children:i}),c&&Object(k.jsx)("div",{className:"release-date",children:On()(c).format("Y")})]})]})})},_n={x50:"w185",x185:"h632"},Sn=Ht((function(e){return{config:e.config.images}}),null,(function(e){var t=e.size,n=void 0===t?"x50":t,r=e.person.profile_path,a=e.config,i=e.placeholder,c=Object(N.useState)(r),s=Object(mt.a)(c,1)[0],o=[a.secure_base_url,_n[i],s].join(""),u=[a.secure_base_url,_n[n],r].join("");return Object(k.jsxs)("div",{className:Mt()("ui-person-picture",{"no-image":!r}),children:[i&&s&&Object(k.jsx)(pn,{src:o}),r&&Object(k.jsx)(pn,{src:u},u)]})})),xn={movie:"Movies",person:"People",tv:"Series"},yn={movie:En,person:function(e){var t=e.result,n=e.isTopResult,r=e.openPerson,a=t.id,i=t.name,c=t.known_for_department;return Object(k.jsx)("div",{onClick:function(){return r({personId:a})},className:Mt()("search-stack-grid-item person",{"top-result":n}),children:Object(k.jsxs)("div",{className:"content ui-tapable ui-tapable-round",children:[Object(k.jsx)("div",{className:"search-stack-grid-item-poster",children:Object(k.jsx)(Sn,{person:t,size:"x50"})}),!n&&Object(k.jsx)("div",{className:"person-name",children:i}),n&&Object(k.jsxs)("div",{className:"search-stack-grid-item-info",children:[Object(k.jsx)("div",{className:"media-type",children:"Person"}),Object(k.jsx)("div",{className:"title",children:i}),c&&Object(k.jsx)("div",{className:"department",children:c})]})]})})},tv:function(e){var t=e.result,n=e.isTopResult,r=e.openSerie,a=t.id,i=t.name,c=t.first_air_date;return Object(k.jsx)("div",{onClick:function(){return r({id:a})},className:Mt()("search-stack-grid-item",{"top-result":n}),children:Object(k.jsxs)("div",{className:"content ui-tapable ui-tapable-round",children:[Object(k.jsx)("div",{className:"search-stack-grid-item-poster",children:Object(k.jsx)(hn,{media:t,size:"w185"})}),n&&Object(k.jsxs)("div",{className:"search-stack-grid-item-info",children:[Object(k.jsx)("div",{className:"media-type",children:"Serie"}),Object(k.jsx)("div",{className:"title",children:i}),c&&Object(k.jsx)("div",{className:"release-date",children:On()(c).format("Y")})]})]})})}},kn=function(e){var t=e.result,n=e.isTopResult,r=e.isFirstItem,a=e.isSecondItem,i=e.prevResult,c=e.openMovie,s=e.openSerie,o=e.openPerson,u=t.media_type,d=yn[u];return Object(k.jsxs)(k.Fragment,{children:[n&&Object(k.jsx)("div",{className:"search-stack-grid-head",children:"Top Result"}),!n&&r&&Object(k.jsx)("div",{className:"search-stack-grid-head",children:"Popular movies"}),!n&&(a||i&&u!==i.media_type)&&Object(k.jsx)("div",{className:"search-stack-grid-head",children:xn[u]}),Object(k.jsx)(d,{result:t,isTopResult:n,openMovie:c,openSerie:s,openPerson:o})]})},Nn=function(e){var t=e.query,n=e.loading,r=e.results,a=e.inputRef,i=e.keyboardOpen,c=e.updateQuery,s=e.openMovie,o=e.openSerie,u=e.openPerson;return Object(k.jsxs)("div",{className:"search-stack",children:[Object(k.jsx)("div",{className:"search-stack-head",children:Object(k.jsxs)("div",{className:"search-stack-input-wrapper",children:[Object(k.jsx)("input",{ref:a,type:"text",placeholder:"search movies and people",value:t,onChange:function(e){return c({query:e.target.value})},className:"search-stack-input"}),Object(k.jsx)("i",{className:"icon-search"})]})}),!n&&!r.length&&Object(k.jsx)("div",{className:"search-stack-empty fade-in",children:Object(k.jsx)("p",{children:"No results"})}),r.length>0&&Object(k.jsx)("div",{className:"search-stack-grid",children:r.map((function(e,n){return Object(k.jsx)(kn,{result:e,isTopResult:0===n&&t,isFirstItem:0===n,isSecondItem:1===n&&t,prevResult:n>0&&r[n-1],openMovie:s,openSerie:o,openPerson:u},e.id)}))}),i&&Object(k.jsx)("div",{className:"ui-keyboard-fill"})]})},Cn=Ht((function(e){var t=e.user,n=e.search,r=e.movie,a=e.serie,i=e.person;return{language:t.language,query:n.query,loading:n.loading[n.query],results:Kt.search.getResults({movie:r,serie:a,person:i,search:n})}}),{updateQuery:zt.search.updateQuery,multiSearch:zt.search.multiSearch,openMovie:zt.layout.openStack("movie"),openSerie:zt.layout.openStack("serie"),openPerson:zt.layout.openStack("person")},(function(e){var t=e.active,n=e.language,r=e.query,a=e.loading,i=e.results,c=e.updateQuery,s=e.multiSearch,o=e.openMovie,u=e.openSerie,d=e.openPerson,l=Object(N.useState)(t),v=Object(mt.a)(l,1)[0],j=Object(N.useRef)(),f=sn();return dn("Search"),Object(N.useEffect)((function(){v&&j.current&&j.current.focus()}),[j,v]),Object(N.useEffect)((function(){r&&s({query:r,language:n})}),[r,n,s]),Object(k.jsx)(Nn,{inputRef:j,query:r,loading:a,results:i,keyboardOpen:f,updateQuery:c,openMovie:o,openSerie:u,openPerson:d})})),Tn=function(e){var t=e.lineClamp,n=void 0===t?"x3":t,r=e.className,a=e.children,i=Object(N.useState)(!1),c=Object(mt.a)(i,2),s=c[0],o=c[1];return Object(k.jsx)("p",{onClick:function(){return o(!0)},className:Mt()("ui-text-clamp",n,r,{"show-all":s}),children:a})},In=function(e){var t=e.release_date,n=e.original_language,r=e.runtime,a=ln(r),i=[];if(t&&i.push(Object(k.jsx)("span",{children:On()(t).format("Y")},t)),n&&i.push(Object(k.jsx)("span",{children:n.toUpperCase()},n)),r>0){var c=Math.floor(r/60),s=Math.floor(r%60%60);i.push(Object(k.jsxs)("span",{className:Mt()({"fade-in":a}),children:[c>0&&"".concat(c,"h")," ",s>0&&"".concat(s,"m")]},r))}return Object(k.jsx)("div",{className:"movie-info",children:i.reduce((function(e,t){return[e," / ",t]}))})},Rn=Ht((function(e){return{config:e.config.images}}),null,(function(e){var t=e.media,n=t.backdrop_path,r=t.poster_path,a=n||r,i=[e.config.secure_base_url,"w780",a].join("");return Object(k.jsxs)("div",{className:"media-backdrop",children:[a&&Object(k.jsx)(pn,{src:i}),!a&&Object(k.jsx)("div",{className:"media-backdrop-holder"})]})})),Mn=Object(_e.a)(Array(5).keys()),wn=function(e){var t=e.voteAverage,n=e.onChange;return Object(k.jsx)("div",{className:"media-rating",children:Mn.map((function(e){return Object(k.jsx)("i",{onClick:function(){n&&n(e)},"data-rating":t,className:Mt()("icon-star-outline",{"icon-star-half":null!==t&&t>2*e,"icon-star-rate":null!==t&&t>=2*e+1,"ui-clickable":n})},e)}))})},Gn=function(e){var t=e.genres;return Object(k.jsx)("div",{className:"media-genres",children:t.map((function(e){return e.name})).reduce((function(e,t){return[e,", ",t]}))})},Un=function(e){var t=e.title,n=e.value;return Object(k.jsxs)("div",{className:"media-credits",children:[Object(k.jsx)("div",{className:"media-credits-title",children:t}),Object(k.jsx)("div",{className:"media-credits-value",children:n})]})},Vn=function(e){var t=e.name,n=e.videoKey,r=e.openVideo;return Object(k.jsxs)("div",{className:"media-videos-item-wrap",onClick:function(){return r({title:t,videoKey:n})},children:[Object(k.jsx)("div",{className:"media-videos-item",children:Object(k.jsx)("div",{className:"media-videos-item-thumb",children:Object(k.jsx)(pn,{src:"https://img.youtube.com/vi/".concat(n,"/hqdefault.jpg")})})}),Object(k.jsx)("div",{className:"media-videos-item-name",title:t,children:t})]})},Ln=Ht(null,{openVideo:zt.layout.openStack("video")},(function(e){var t=e.videos,n=e.openVideo;return Object(k.jsx)("div",{className:"media-videos",children:t.map((function(e){var t=e.id,r=e.name,a=e.key;return Object(k.jsx)(Vn,{name:r,videoKey:a,openVideo:n},t)}))})})),An=function(e){var t=e.id,n=e.movie,r=e.genres,a=e.cast,i=e.director,c=e.videos,s=e.loadingCredits,o=e.openCast,u=e.openPerson,d=e.isCastUpdated,l=e.isDirectorUpdated,v=e.isVideosUpdated,j=n.title,f=n.vote_average,m=n.release_date,b=n.runtime,g=n.overview,O=n.original_language;return Object(k.jsxs)("div",{className:"movie-stack",children:[Object(k.jsxs)("div",{className:"movie-stack-backdrop",children:[Object(k.jsx)(Rn,{media:n}),Object(k.jsx)("img",{className:"thanks-themoviedb",src:U,alt:""})]}),Object(k.jsxs)("div",{className:"movie-stack-content",children:[Object(k.jsxs)("div",{className:"movie-stack-head show-up-primary",children:[Object(k.jsx)("h1",{className:"movie-stack-title",children:j}),f>0&&Object(k.jsx)("div",{className:"movie-stack-rating",children:Object(k.jsx)(wn,{voteAverage:f})}),(m||O||b>0)&&Object(k.jsx)("div",{className:"movie-stack-info",children:Object(k.jsx)(In,{release_date:m,original_language:O,runtime:b})})]}),g&&Object(k.jsx)("div",{className:"show-up-secondary",children:Object(k.jsx)("div",{className:"movie-stack-overview",children:Object(k.jsx)(Tn,{children:g})})}),Object(k.jsxs)("div",{className:"show-up-tertiary",children:[r.length>0&&Object(k.jsx)("div",{className:"movie-stack-genres",children:Object(k.jsx)(Gn,{genres:r})}),a.length>0&&Object(k.jsx)("div",{onClick:function(){return o({id:t,media:"movie"})},className:Mt()("movie-stack-credits ui-tapable",{"fade-in":d}),children:Object(k.jsx)(Un,{title:"Cast",value:a.reduce((function(e,t){return[e,", ",t]}))})}),i&&Object(k.jsx)("div",{onClick:function(){return u({personId:i.id})},className:Mt()("movie-stack-credits ui-tapable",{"fade-in":l}),children:Object(k.jsx)(Un,{title:"Director",value:i.name})}),(a.length>0||i||!s)&&c.length>0&&Object(k.jsxs)("div",{className:Mt()("movie-stack-videos",{"fade-in":v}),children:[Object(k.jsx)("div",{className:"movie-stack-videos-title",children:"Videos"}),Object(k.jsx)("div",{className:"movie-stack-videos-wrap scroll-lock-ignore",children:Object(k.jsx)(Ln,{videos:c})})]})]})]})]})},Dn=Ht((function(e,t){var n=e.user,r=e.movie,a=e.genre,i=e.credit,c=e.person,s=e.status,o=e.video,u=t.id;return{language:n.language,movie:r.movies[u],genres:Kt.movie.getGenres({movie:r,genre:a,id:u}),cast:Kt.credit.getMovieCast({credit:i,person:c,id:u}),director:Kt.credit.getMovieDirector({credit:i,person:c,id:u}),videos:Kt.video.getMovieVideos({video:o,user:n,id:u}),loadingCredits:s.loading["credit/GET_MOVIE_CREDITS"]}}),{getMovie:zt.movie.getMovie,getMovieCredits:zt.credit.getMovieCredits,getMovieVideos:zt.video.getMovieVideos,openCast:zt.layout.openStack("cast"),openPerson:zt.layout.openStack("person")},(function(e){var t=e.id,n=e.language,r=e.movie,a=e.genres,i=e.cast,c=e.director,s=e.videos,o=e.loadingCredits,u=e.getMovie,d=e.getMovieCredits,l=e.getMovieVideos,v=e.openCast,j=e.openPerson;dn(r.title),Object(N.useEffect)((function(){u({id:t,language:n})}),[t,n,u]),Object(N.useEffect)((function(){d({id:t})}),[t,d]),Object(N.useEffect)((function(){l({id:t,language:n})}),[t,n,l]);var f=Object(N.useMemo)((function(){var e=i.slice(0,3).map((function(e){return e.name}));return e.length!==i.length&&e.push("+".concat(i.length-e.length)),e}),[i]),m=ln(f.length),b=ln(null===c||void 0===c?void 0:c.name),g=ln(s.length);return Object(k.jsx)(An,{id:t,movie:r,genres:a,cast:f,director:c,videos:s,loadingCredits:o,openCast:v,openPerson:j,isCastUpdated:m,isDirectorUpdated:b,isVideosUpdated:g})})),Fn=function(e){var t=e.first_air_date,n=e.original_language,r=e.number_of_seasons,a=ln(t),i=ln(r),c=[];return t&&c.push(Object(k.jsx)("span",{className:Mt()({"fade-in":a}),children:On()(t).format("Y")},t)),n&&c.push(Object(k.jsx)("span",{children:n.toUpperCase()},n)),r>0&&c.push(Object(k.jsxs)("span",{className:Mt()({"fade-in":i}),children:[r," Season",1!==r&&"s"]},r)),Object(k.jsx)("div",{className:"movie-info",children:c.reduce((function(e,t){return[e," / ",t]}))})},Pn=function(e){var t=e.id,n=e.serie,r=e.genres,a=e.cast,i=e.videos,c=e.loadingCredits,s=e.openCast,o=e.isCastUpdated,u=e.isVideosUpdated,d=n.name,l=n.vote_average,v=n.first_air_date,j=n.number_of_seasons,f=n.overview,m=n.original_language;return Object(k.jsxs)("div",{className:"movie-stack",children:[Object(k.jsxs)("div",{className:"movie-stack-backdrop",children:[Object(k.jsx)(Rn,{media:n}),Object(k.jsx)("img",{className:"thanks-themoviedb",src:U,alt:""})]}),Object(k.jsxs)("div",{className:"movie-stack-content",children:[Object(k.jsxs)("div",{className:"movie-stack-head show-up-primary",children:[Object(k.jsx)("h1",{className:"movie-stack-title",children:d}),l>0&&Object(k.jsx)("div",{className:"movie-stack-rating",children:Object(k.jsx)(wn,{voteAverage:l})}),(v||m||j>0)&&Object(k.jsx)("div",{className:"movie-stack-info",children:Object(k.jsx)(Fn,{first_air_date:v,original_language:m,number_of_seasons:j})})]}),f&&Object(k.jsx)("div",{className:"show-up-secondary",children:Object(k.jsx)("div",{className:"movie-stack-overview",children:Object(k.jsx)(Tn,{children:f})})}),Object(k.jsxs)("div",{className:"show-up-tertiary",children:[r.length>0&&Object(k.jsx)("div",{className:"movie-stack-genres",children:Object(k.jsx)(Gn,{genres:r})}),a.length>0&&Object(k.jsx)("div",{onClick:function(){return s({id:t,media:"serie"})},className:Mt()("movie-stack-credits ui-tapable",{"fade-in":o}),children:Object(k.jsx)(Un,{title:"Cast",value:a.reduce((function(e,t){return[e,", ",t]}))})}),(a.length>0||!c)&&i.length>0&&Object(k.jsxs)("div",{className:Mt()("movie-stack-videos",{"fade-in":u}),children:[Object(k.jsx)("div",{className:"movie-stack-videos-title",children:"Videos"}),Object(k.jsx)("div",{className:"movie-stack-videos-wrap scroll-lock-ignore",children:Object(k.jsx)(Ln,{videos:i})})]})]})]})]})},Qn=Ht((function(e,t){var n=e.user,r=e.serie,a=e.genre,i=e.credit,c=e.person,s=e.status,o=e.video,u=t.id;return{language:n.language,serie:r.series[u],genres:Kt.serie.getGenres({serie:r,genre:a,id:u}),cast:Kt.credit.getSerieCast({credit:i,person:c,id:u}),videos:Kt.video.getSerieVideos({video:o,user:n,id:u}),loadingCredits:s.loading["credit/GET_SERIE_CREDITS"]}}),{getSerie:zt.serie.getSerie,getSerieCredits:zt.credit.getSerieCredits,getSerieVideos:zt.video.getSerieVideos,openCast:zt.layout.openStack("cast")},(function(e){var t=e.id,n=e.language,r=e.serie,a=e.genres,i=e.cast,c=e.videos,s=e.loadingCredits,o=e.getSerie,u=e.getSerieCredits,d=e.getSerieVideos,l=e.openCast;dn(r.name),Object(N.useEffect)((function(){o({id:t,language:n})}),[t,n,o]),Object(N.useEffect)((function(){u({id:t})}),[t,u]),Object(N.useEffect)((function(){d({id:t,language:n})}),[t,n,d]);var v=Object(N.useMemo)((function(){var e=i.slice(0,3).map((function(e){return e.name}));return e.length!==i.length&&e.push("+".concat(i.length-e.length)),e}),[i]),j=ln(v.length),f=ln(c.length);return Object(k.jsx)(Pn,{id:t,serie:r,genres:a,cast:v,videos:c,loadingCredits:s,openCast:l,isCastUpdated:j,isVideosUpdated:f})})),qn=n(39),Yn=function(e){var t=e.playerRef,n=Object(N.useState)(0),r=Object(mt.a)(n,2),a=r[0],i=r[1];return Object(N.useEffect)((function(){var e=t.current;if(e){var n=e.getDuration()||1,r=setInterval((function(){i(e.getCurrentTime()/n*100)}),500);return function(){return clearInterval(r)}}}),[t,i]),Object(k.jsx)("div",{className:"video-progress",children:Object(k.jsx)("div",{className:"video-progress-fill",style:{transform:"translate3d(-".concat(100-a,"%, 0, 0)")}})})},Wn=Ht((function(e){return{playingVideo:e.layout.playingVideo}}),{updateVideoState:zt.layout.updateVideoState,openToast:zt.layout.openToast,closeStack:zt.layout.closeStack},(function(e){var t=e.title,n=e.videoKey,r=e.playingVideo,a=e.updateVideoState,i=e.openToast,c=e.closeStack,s=Object(N.useRef)(null),o=Object(N.useState)(!1),u=Object(mt.a)(o,2),d=u[0],l=u[1];Object(N.useEffect)((function(){return function(){a({playing:!1})}}),[a]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(qn.a,{videoId:n,containerClassName:"video-stack",className:Mt()("video-stack-frame",{ready:d,playing:r}),onReady:function(e){s.current=e.target,s.current.setVolume(100),l(!0)},onPlay:function(){return a({playing:!0})},onEnd:function(){return c()},onError:function(){c(),i({message:"Video unavailable, try again later"})},opts:{title:"".concat(t," - Must Watch"),width:"100%",height:"100%",playerVars:{autoplay:1,modestbranding:1,iv_load_policy:3,rel:0,controls:0}}}),Object(k.jsx)("div",{className:"video-stack-overlay",onClick:function(){s.current&&d&&(1!==s.current.getPlayerState()&&s.current.playVideo())},children:r&&Object(k.jsx)(Yn,{playerRef:s})})]})})),Kn=function(e){var t=e.cast,n=e.title,r=e.openPerson;return Object(k.jsxs)("div",{className:"cast-stack",children:[Object(k.jsxs)("div",{className:"ui-stack-head",children:[Object(k.jsx)("h2",{children:n}),Object(k.jsx)("div",{className:"cast-stack-subtitle",children:"Cast"})]}),Object(k.jsx)("div",{className:"show-up-primary",children:Object(k.jsx)("div",{className:"cast-stack-list",children:t.map((function(e){return Object(k.jsxs)("div",{className:"cast-stack-item ui-tapable",onClick:function(){return r({personId:e.id})},children:[Object(k.jsx)("div",{className:"cast-stack-item-picture",children:Object(k.jsx)(Sn,{person:e})}),Object(k.jsxs)("div",{className:"cast-stack-item-info",children:[Object(k.jsx)("div",{className:"cast-stack-item-name",children:e.name}),e.character&&Object(k.jsx)("div",{className:"cast-stack-item-character",children:e.character})]})]},e.credit_id)}))})})]})},zn={movie:Kt.credit.getMovieCast,serie:Kt.credit.getSerieCast},Hn=Ht((function(e,t){var n=e.movie,r=e.serie,a=e.credit,i=e.person,c=t.id,s=t.media;return{cast:zn[s]({credit:a,person:i,id:c}),title:"movie"===s?n.movies[c].title:r.series[c].name}}),{openPerson:zt.layout.openStack("person")},(function(e){var t=e.cast,n=e.title,r=e.openPerson;return Object(k.jsx)(Kn,{cast:t,title:n,openPerson:r})})),Bn=function(e){var t=e.person,n=e.knownFor,r=e.openMovie,a=e.isBioUpdated;return Object(k.jsxs)("div",{className:"person-stack",children:[Object(k.jsx)("div",{className:"ui-stack-head",children:Object(k.jsx)("h1",{className:"person-stack-name",children:t.name})}),Object(k.jsx)("div",{className:"show-up-primary",children:Object(k.jsx)("div",{className:"person-stack-picture",children:Object(k.jsx)(Sn,{person:t,size:"x185",placeholder:"x50"})})}),Object(k.jsx)("div",{className:"show-up-secondary",children:Object(k.jsxs)("dl",{className:Mt()({"fade-in":a}),children:[(t.birthday||t.place_of_birth)&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("dt",{children:"Born"}),Object(k.jsxs)("dd",{children:[t.birthday&&Object(k.jsxs)("div",{children:[On()(t.birthday).format("MMMM D, YYYY")," ",!t.deathday&&"(age ".concat(On()().diff(t.birthday,"years"),")")]}),t.place_of_birth&&Object(k.jsx)("div",{children:t.place_of_birth})]})]}),t.deathday&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("dt",{children:"Died"}),Object(k.jsxs)("dd",{children:[On()(t.deathday).format("MMMM D, YYYY")," (aged ",On()(t.deathday).diff(t.birthday,"years"),")"]})]}),t.biography&&Object(k.jsx)("dd",{className:"person-stack-bio",children:Object(k.jsx)(Tn,{children:t.biography})})]})}),Object(k.jsx)("div",{className:"show-up-tertiary",children:(t.birthday||t.place_of_birth||t.biography)&&n.length>0&&Object(k.jsxs)("div",{className:"person-stack-known-for",children:[Object(k.jsx)("div",{children:"Known For"}),Object(k.jsx)("div",{className:"person-stack-movies scroll-lock-ignore",dir:"ltr",children:Object(k.jsx)("div",{className:"person-stack-movies-scroll",children:n.map((function(e){return Object(k.jsx)("div",{className:"person-stack-movies-movie",children:Object(k.jsx)(hn,{media:e,onClick:function(){return r({id:e.id})}})},e.id)}))})})]})})]})},Jn={language:bn,search:Cn,movie:Dn,serie:Qn,video:Wn,cast:Hn,person:Ht((function(e,t){var n=e.user,r=e.movie,a=e.person,i=t.personId;return{person:a.persons[i],language:n.language,knownFor:Kt.person.getKnownFor({movie:r,person:a,personId:i})}}),{getPerson:zt.person.getPerson,getMovieCredits:zt.person.getMovieCredits,openMovie:zt.layout.openStack("movie")},(function(e){var t=e.personId,n=e.language,r=e.person,a=e.knownFor,i=e.getPerson,c=e.getMovieCredits,s=e.openMovie;Object(N.useEffect)((function(){i({personId:t,language:n})}),[t,n,i]),Object(N.useEffect)((function(){c({personId:t,language:n})}),[t,n,c]);var o=ln(r.biography);return Object(k.jsx)(Bn,{person:r,knownFor:a,openMovie:s,isBioUpdated:o})}))},Xn=Ht((function(e){var t=e.layout,n=e.status;return{stack:t.stack,loading:Kt.status.isLoading({status:n})}}),{closeStack:zt.layout.closeStack},(function(e){var t=e.stack,n=e.closeStack,r=e.loading;return Object(k.jsx)(nn,{children:t.map((function(e,a){var i=e.namespace,c=e.props,s=t.length===a+1,o=t.length>a+3,u=Jn[i];return o?null:Object(k.jsx)(en,{namespace:i,active:s,children:Object(k.jsx)(jn,{active:s,loading:s&&r,closeStack:n,children:Object(k.jsx)(u,Object(M.a)({active:s},c))})},"".concat(i,"-").concat(a))}))})})),Zn=function(e){var t=e.message,n=e.closeToast;return Object(N.useEffect)((function(){var e=setTimeout(n,4e3);return function(){clearTimeout(e)}}),[n]),Object(k.jsx)("div",{className:"ui-toast",onClick:n,children:Object(k.jsx)("p",{className:"ui-toast-message",children:t})},t)},$n=Ht((function(e){return{toast:e.layout.toast}}),{closeToast:zt.layout.closeToast},(function(e){var t=e.toast,n=e.closeToast;return Object(k.jsx)(nn,{children:t.open&&Object(k.jsx)(en,{active:!0,namespace:"ui-toast-layer",children:Object(k.jsx)(Zn,{message:t.message,closeToast:n})})})})),er=function(e){e.toast,e.closeToast;var t=Object(N.useState)(!1),n=Object(mt.a)(t,2),r=n[0],a=n[1];return Object(N.useEffect)((function(){var e=function(){return a(!0)},t=function(){return a(!1)};return window.addEventListener("offline",e),window.addEventListener("online",t),function(){window.removeEventListener("offline",e),window.removeEventListener("online",t)}}),[a]),Object(k.jsx)(nn,{children:r&&Object(k.jsx)(en,{active:!0,namespace:"ui-offline-layer",children:Object(k.jsx)("div",{className:"ui-offline"})})})},tr=Ht((function(e){var t=e.layout;return{stackOpen:t.stack.length>0,playingVideo:t.playingVideo,hasVideoStack:t.stack.find((function(e){return"video"===e.namespace}))}}),null,(function(e){var t=e.stackOpen,n=e.hasVideoStack,r=e.playingVideo,a=e.children;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("main",{className:Mt()("ui-main",{"stack-open":t,"playing-video":r,"has-video-stack":n}),children:[Object(k.jsx)("div",{className:"ui-main-header",children:Object(k.jsx)(Jt,{})}),Object(k.jsx)("div",{className:"ui-main-content",children:a})]}),Object(k.jsx)(Xn,{}),Object(k.jsx)($n,{}),Object(k.jsx)(er,{})]})})),nr=Ht((function(e){var t=e.user,n=e.movie;return{language:t.language,movies:Kt.movie.getMovies({movie:n})}}),{getConfiguration:zt.config.getConfiguration,getMovieGenres:zt.genre.getMovieGenres,getSerieGenres:zt.genre.getSerieGenres,discoverMovies:zt.movie.discoverMovies,openMovie:zt.layout.openStack("movie")},(function(e){var t=e.movies,n=e.language,r=e.getConfiguration,a=e.getMovieGenres,i=e.getSerieGenres,c=e.discoverMovies,s=e.openMovie,o=Object(N.useRef)(null),u=Object(N.useState)(1),d=Object(mt.a)(u,2),l=d[0],v=d[1],j=Object(N.useState)(0),f=Object(mt.a)(j,2),m=f[0],b=f[1];Object(N.useEffect)((function(){r()}),[r]),Object(N.useEffect)((function(){a({language:n})}),[n,a]),Object(N.useEffect)((function(){i({language:n})}),[n,i]),Object(N.useEffect)((function(){c({page:l,language:n})}),[l,n,c]),Object(N.useEffect)((function(){var e=function(){document.hidden||c({page:l,language:n})};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}),[l,n,c]);var g=Object(N.useMemo)((function(){return t.length}),[t]),O=20,p=window.innerWidth>768?40:20;Object(N.useEffect)((function(){var e=Math.max(g-((m||1)*O+40),0),t=(g-e)/O,n=o.current,r=m+1===l,a=function(e){var n=e.target,a=(n.scrollLeft+window.innerWidth)/(n.scrollWidth||1)*t-m;0===n.scrollLeft&&v(1),a>=.6&&r&&(v(l+1),r=!1)};if(n)return n.addEventListener("scroll",a),function(){n.removeEventListener("scroll",a)}}),[m,l,v,o,g]),Object(N.useLayoutEffect)((function(){var e=o.current,t=Math.max(g-((m||1)*O+40),0),n=g-t,r=function(e){var t=e.target,r=(t.scrollLeft+window.innerWidth)/(t.scrollWidth||1),a=Math.floor(r*n/O);a!==m&&b(a)};if(e)return e.addEventListener("scroll",r),function(){e.removeEventListener("scroll",r)}}),[m,b,g,o]);var h=Math.max((m-1)*O,0),E=h,_=Math.min(h+60,g),S=Array.from({length:_-E},(function(e,t){return t+E})),x=window.innerWidth-p,y=window.innerWidth>768?.3*(x+p):.85*(x+p);return Object(k.jsx)("div",{ref:o,className:"main",children:Object(k.jsxs)("div",{className:"movie-grid",style:{width:(h+S.length)*y},children:[Object(k.jsx)("div",{style:{minWidth:h*y,minHeight:1}}),S.map((function(e,n){var r=t[e];if(!r)return null;var a=r.id,i=e+4>=m*O&&e-4<m*O+O;return Object(k.jsx)("div",{className:"movie-grid-item","data-index":e+1,children:i&&Object(k.jsx)(hn,{media:r,onClick:function(){return s({id:a})}})},n)}))]})})})),rr=(n(82),function(){return Object(k.jsx)(T.a,{store:It,children:Object(k.jsx)(tr,{children:Object(k.jsx)(nr,{})})})});Object(C.render)(Object(k.jsx)(N.StrictMode,{children:Object(k.jsx)(rr,{})}),cn),setTimeout((function(){return cn.classList.add("ready")}),1500)}},[[83,1,2]]]);