(this["webpackJsonpd-movie"]=this["webpackJsonpd-movie"]||[]).push([[0],{82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getConfiguration",(function(){return T}));var r={};n.r(r),n.d(r,"getGenres",(function(){return M}));var c={};n.r(c),n.d(c,"discoverMovies",(function(){return R})),n.d(c,"getMovie",(function(){return w})),n.d(c,"getCredits",(function(){return V})),n.d(c,"getVideos",(function(){return I}));var i={};n.r(i),n.d(i,"searchMovies",(function(){return L}));var o={};n.r(o),n.d(o,"default",(function(){return D})),n.d(o,"getConfiguration",(function(){return F}));var u={};n.r(u),n.d(u,"default",(function(){return P})),n.d(u,"getGenres",(function(){return H}));var s={};n.r(s),n.d(s,"default",(function(){return $})),n.d(s,"openStack",(function(){return ee})),n.d(s,"closeStack",(function(){return te})),n.d(s,"updateVideoState",(function(){return ne})),n.d(s,"openToast",(function(){return ae})),n.d(s,"closeToast",(function(){return re}));var l={};n.r(l),n.d(l,"default",(function(){return le})),n.d(l,"SEARCH_MOVIES_SUCCESS",(function(){return ue})),n.d(l,"updateFilter",(function(){return de})),n.d(l,"updateQuery",(function(){return ve})),n.d(l,"searchMovies",(function(){return je}));var d={};n.r(d),n.d(d,"default",(function(){return he})),n.d(d,"discoverMovies",(function(){return xe})),n.d(d,"getMovie",(function(){return Se})),n.d(d,"getCredits",(function(){return ke})),n.d(d,"getVideos",(function(){return Ne}));var v={};n.r(v),n.d(v,"default",(function(){return Re})),n.d(v,"changeLanguage",(function(){return we}));var j={};n.r(j),n.d(j,"getGenres",(function(){return Fe}));var f={};n.r(f),n.d(f,"getMovies",(function(){return qe})),n.d(f,"getCast",(function(){return Qe})),n.d(f,"getDirector",(function(){return We})),n.d(f,"getYouTubeVideos",(function(){return Pe})),n.d(f,"filterMovies",(function(){return He})),n.d(f,"getResults",(function(){return Ye}));var g=n(0),m=n(1),b=n.n(m),O=n(12),h=n.n(O),p=n(18),E=n(10),y=n(35),x=(n(53),n(2)),S=n(36),k=n.n(S),N=function(e){return k()(Object(x.a)(Object(x.a)({},e),{},{url:"https://api.themoviedb.org/3"+e.url,params:Object(x.a)(Object(x.a)({},e.params||{}),{},{api_key:"0d350753f143701136974b765ca31ac5"})}))},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(a){return e({type:t,payload:Object(x.a)(Object(x.a)({},n),{},{data:a.data})})}},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(a){var r=(a.response||{data:{}}).data;return e({type:t,payload:Object(x.a)(Object(x.a)({},n),{},{error:r.error})})}},T=function(){return N({method:"GET",url:"/configuration"})},M=function(e){var t=e.language;return N({method:"GET",url:"/genre/movie/list",params:{language:t}})},R=function(e){var t=e.page,n=e.language;return N({method:"GET",url:"/discover/movie",params:{page:t,language:n}})},w=function(e){var t=e.id,n=e.language;return N({method:"GET",url:"/movie/".concat(t),params:{language:n}})},V=function(e){var t=e.id;return N({method:"GET",url:"/movie/".concat(t,"/credits")})},I=function(e){var t=e.id,n=e.language;return N({method:"GET",url:"/movie/".concat(t,"/videos"),params:{language:n}})},L=function(e){var t=e.query,n=e.language;return N({method:"GET",url:"/search/movie",params:{query:t,language:n}})},G={config:a,genre:r,movie:c,search:i},U="config/GET_CONFIGURATION_SUCCESS",A={images:{}};function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case U:var r=a.data.images;return{images:r};default:return e}}var F=function(){return function(e){return e({type:"config/GET_CONFIGURATION_REQUEST",meta:G.config.getConfiguration().then(_(e,U)).catch(C(e,"config/GET_CONFIGURATION_FAILURE"))})}},q=n(6),Q="genre/GET_GENRES_SUCCESS",W={genres:{}};function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Q:var r=a.data.genres;return{genres:r.reduce((function(e,t){return Object(x.a)(Object(x.a)({},e),{},Object(q.a)({},t.id,t))}),{})};default:return e}}var H=function(e){return function(t){return t({type:"genre/GET_GENRES_REQUEST",meta:G.genre.getGenres(e).then(_(t,Q)).catch(C(t,"genre/GET_GENRES_FAILURE"))})}},Y=n(13),K="layout/OPEN_STACK",z="layout/CLOSE_STACK",J="layout/UPDATE_VIDEO_STATE",B="layout/OPEN_TOAST",X="layout/CLOSE_TOAST",Z={stack:[],playingVideo:!1,toast:{open:!1,message:null}};function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case K:var r=a.namespace,c=a.props;return Object(x.a)(Object(x.a)({},e),{},{stack:[].concat(Object(Y.a)(e.stack),[{namespace:r,props:c||{}}])});case z:return Object(x.a)(Object(x.a)({},e),{},{stack:e.stack.slice(0,-1)});case J:return Object(x.a)(Object(x.a)({},e),{},{playingVideo:a.playing});case B:return Object(x.a)(Object(x.a)({},e),{},{toast:{open:!0,message:a.message}});case X:return Object(x.a)(Object(x.a)({},e),{},{toast:Z.toast});default:return e}}var ee=function(e){return function(t){return function(n){return n({type:K,payload:{namespace:e,props:t}})}}},te=function(){return function(e){return e({type:z})}},ne=function(e){return function(t){return t({type:J,payload:e})}},ae=function(e){return function(t){return t({type:B,payload:e})}},re=function(){return function(e){return e({type:X})}},ce="search/UPDATE_QUERY",ie="search/UPDATE_FILTER",oe="search/SEARCH_MOVIES_REQUEST",ue="search/SEARCH_MOVIES_SUCCESS",se={query:"",filter:{rating:null},results:{},loading:{}};function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case ce:return Object(x.a)(Object(x.a)({},e),{},{query:a.query});case ie:return Object(x.a)(Object(x.a)({},e),{},{filter:Object(x.a)(Object(x.a)({},e.filter),a)});case oe:return Object(x.a)(Object(x.a)({},e),{},{loading:Object(x.a)(Object(x.a)({},e.loading),{},Object(q.a)({},a.query,!0))});case ue:var r=a.query,c=a.data.results;return Object(x.a)(Object(x.a)({},e),{},{loading:Object(x.a)(Object(x.a)({},e.loading),{},Object(q.a)({},r,!1)),results:Object(x.a)(Object(x.a)({},e.results),{},Object(q.a)({},r,c.map((function(e){return e.id}))))});default:return e}}var de=function(e){return function(t){return t({type:ie,payload:e})}},ve=function(e){return function(t){return t({type:ce,payload:e})}},je=function(e){return function(t){return t({type:oe,payload:e,meta:G.search.searchMovies(e).then(_(t,ue,e)).catch(C(t,"search/SEARCH_MOVIES_FAILURE"))})}},fe="movie/DISCOVER_MOVIES_SUCCESS",ge="movie/GET_MOVIE_SUCCESS",me="movie/GET_CREDITS_SUCCESS",be="movie/GET_VIDEOS_SUCCESS",Oe={list:[],movies:{},credits:{},videos:{}};function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case fe:var r=a.data.results,c=r.map((function(e){return e.id}));return Object(x.a)(Object(x.a)({},e),{},{list:1===a.page?c:Object(Y.a)(new Set([].concat(Object(Y.a)(e.list),Object(Y.a)(c)))),movies:ye({state:e,results:r})});case ue:var i=a.data.results;return Object(x.a)(Object(x.a)({},e),{},{movies:ye({state:e,results:i})});case ge:var o=a.id,u=a.data;return Object(x.a)(Object(x.a)({},e),{},{movies:Object(x.a)(Object(x.a)({},e.movies),{},Object(q.a)({},o,Object(x.a)(Object(x.a)({},e.movies[o]),Ee(u))))});case me:var s=a.id,l=a.data;return Object(x.a)(Object(x.a)({},e),{},{credits:Object(x.a)(Object(x.a)({},e.credits),{},Object(q.a)({},s,l))});case be:var d=a.id,v=a.language,j=a.data.results;return Object(x.a)(Object(x.a)({},e),{},{videos:Object(x.a)(Object(x.a)({},e.videos),{},Object(q.a)({},d,Object(x.a)(Object(x.a)({},e.videos[d]||{}),{},Object(q.a)({},v,j))))});default:return e}}var pe,Ee=function(e){var t={id:e.id,title:e.title,poster_path:e.poster_path,backdrop_path:e.backdrop_path,original_language:e.original_language,genre_ids:e.genre_ids||(e.genres||[]).map((function(e){return e.id})),vote_average:e.vote_average,overview:e.overview,release_date:e.release_date};return e.runtime&&(t.runtime=e.runtime),t},ye=function(e){var t=e.state;return e.results.reduce((function(e,n){return Object(x.a)(Object(x.a)({},e),{},Object(q.a)({},n.id,Object(x.a)(Object(x.a)({},t.movies[n.id]||{}),Ee(n))))}),Object(x.a)({},t.movies))},xe=function(e){return function(t){return t({type:"movie/DISCOVER_MOVIES_REQUEST",meta:G.movie.discoverMovies(e).then(_(t,fe,e)).catch(C(t,"movie/DISCOVER_MOVIES_FAILURE"))})}},Se=function(e){return function(t){return t({type:"movie/GET_MOVIE_REQUEST",meta:G.movie.getMovie(e).then(_(t,ge,e)).catch(C(t,"movie/GET_MOVIE_FAILURE"))})}},ke=function(e){return function(t){return t({type:"movie/GET_CREDITS_REQUEST",meta:G.movie.getCredits(e).then(_(t,me,e)).catch(C(t,"movie/GET_CREDITS_FAILURE"))})}},Ne=function(e){return function(t){return t({type:"movie/GET_VIDEOS_REQUEST",meta:G.movie.getVideos(e).then(_(t,be,e)).catch(C(t,"movie/GET_VIDEOS_FAILURE"))})}},_e=n(4),Ce={loading:{},success:{},failure:{}};var Te="user/CHANGE_LAGUAGE",Me={language:(null===(pe=navigator.language)||void 0===pe?void 0:pe.substr(0,2))||"en"};function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Te:return Object(x.a)(Object(x.a)({},e),{},{language:a.language});default:return e}}var we=function(e){return function(t){return t({type:Te,payload:e})}},Ve=Object(E.c)({config:D,genre:P,layout:$,movie:he,search:le,status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=(t.payload,/(\w+)\/(\w+)_(REQUEST|SUCCESS|ERROR)/.exec(n));if(!a)return e;var r=Object(_e.a)(a,4),c=r[1],i=r[2],o=r[3],u="".concat(c,"/").concat(i);return Object(x.a)(Object(x.a)({},e),{},{loading:Object(x.a)(Object(x.a)({},e.loading),{},Object(q.a)({},u,"REQUEST"===o)),success:Object(x.a)(Object(x.a)({},e.success),{},Object(q.a)({},u,"SUCCESS"===o)),failure:Object(x.a)(Object(x.a)({},e.failure),{},Object(q.a)({},u,"FAILURE"===o))})},user:Re}),Ie=[y.a];var Le=Object(E.e)(Ve,function(){try{return JSON.parse(window.localStorage.getItem("d-movie-state"))||{}}catch(e){return{}}}(),E.d.apply(void 0,[E.a.apply(void 0,Ie)].concat([])));Le.subscribe((function(){var e=Le.getState();!function(e){try{window.localStorage.setItem("d-movie-state",JSON.stringify(e))}catch(t){}}({config:e.config,genres:e.genres})}));var Ge=Le,Ue=n(3),Ae=n.n(Ue),De=n(11),Fe=Object(De.a)((function(e){return e.genre.genres}),(function(e){return e.movie.movies}),(function(e){return e.id}),(function(e,t,n){return t[n].genre_ids.map((function(t){return e[t]}))})),qe=Object(De.a)((function(e){return e.movie}),(function(e){return(e.list||[]).map((function(t){return e.movies[t]}))})),Qe=Object(De.a)((function(e){return e.movie.credits}),(function(e){return e.id}),(function(e,t){return e[t]?e[t].cast.slice(0,3):[]})),We=Object(De.a)((function(e){return e.movie.credits}),(function(e){return e.id}),(function(e,t){return e[t]?e[t].crew.find((function(e){return"Director"===e.job})):null})),Pe=Object(De.a)((function(e){return e.movie.videos}),(function(e){return e.user.language}),(function(e){return e.id}),(function(e,t,n){return(e[n]&&e[n][t]||[]).filter((function(e){return"YouTube"===e.site}))})),He=Object(De.a)((function(e){return e.movies}),(function(e){return e.rating}),(function(e,t){return e.filter((function(e){var n=e.vote_average;return n&&n>=t&&n<t+2}))})),Ye=Object(De.a)((function(e){return e.movie}),(function(e){var t=e.search;return[t.query,t.filter.rating,t.results]}),(function(e,t){var n,a=Object(_e.a)(t,3),r=a[0],c=a[1],i=a[2];return n=r?(i[r]||[]).map((function(t){return e.movies[t]})):qe({movie:e}),null!==c&&(n=He({movies:n,rating:c})),n.slice(0,20)})),Ke={genre:j,movie:f},ze={config:o,genre:u,layout:s,movie:d,search:l,user:v},Je=function(e,t,n){return Object(p.b)(e,t&&function(e){return Object(E.b)(t,e)})(n)},Be=function(e){var t=e.language,n=e.size;return Object(g.jsx)("div",{className:Ae()("ui-lang",n),children:t})},Xe=Je((function(e){return{language:e.user.language}}),{openLanguage:ze.layout.openStack("language"),openSearch:ze.layout.openStack("search")},(function(e){var t=e.language,n=e.openLanguage,a=e.openSearch;return Object(g.jsxs)("div",{className:"ui-header",children:[Object(g.jsx)("div",{className:"ui-header-title",children:Object(g.jsx)("h1",{children:"MUST WATCH"})}),Object(g.jsxs)("div",{className:"ui-header-nav",children:[Object(g.jsx)("div",{className:"ui-header-language ui-clickable",onClick:function(){return n()},children:Object(g.jsx)(Be,{language:t})}),Object(g.jsx)("div",{className:"ui-header-search ui-clickable",onClick:function(){return a()},children:Object(g.jsx)("i",{className:"icon-search"})})]})]})})),Ze=n(37),$e=n(84),et=function(e){var t=e.namespace,n=e.active,a=e.children,r=Object(Ze.a)(e,["namespace","active","children"]),c=Object(m.useRef)(null);return Object(g.jsx)($e.a,Object(x.a)(Object(x.a)({nodeRef:c,timeout:400},r),{},{children:Object(g.jsx)("div",{ref:c,className:Ae()("ui-layer",t,{active:n}),children:a})}))},tt=n(85),nt=function(e){var t=e.children;return Object(g.jsx)(tt.a,{component:null,children:t})},at=function(e,t){var n=Object(m.useState)(0),a=Object(_e.a)(n,2),r=a[0],c=a[1];return Object(m.useEffect)((function(){var n=e.current,a=null,r=!1,i=!1,o=!0,u=function(){i=0===n.scrollTop,o=!0},s=function(e){var u=e.touches;if(i&&!r)if(0===n.scrollTop){null===a&&(a=u[0].clientY);var s=a-u[0].clientY;if(s<0){o&&document.activeElement&&(document.activeElement.blur(),o=!1);var l=Math.abs(s)/800;c(l),l>.25&&!r&&(t(),r=!0)}}else i=!1},l=function(){a=null,i=!1,r||c(0)};if(n)return n.addEventListener("touchstart",u),n.addEventListener("touchmove",s),n.addEventListener("touchend",l),function(){n.removeEventListener("touchstart",u),n.removeEventListener("touchmove",s),n.removeEventListener("touchend",l)}}),[e,c,t]),r},rt=function(e,t){Object(m.useEffect)((function(){if(e){var n=function(e){27===e.keyCode&&t()};return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}}),[e,t])},ct=n(23),it=function(e){Object(m.useEffect)((function(){var t=e.current;if(t)return Object(ct.a)(t,{allowTouchMove:function(e){return e.matches(".scroll-lock-ignore")||e.closest(".scroll-lock-ignore")}}),function(){Object(ct.b)(t)}}),[e])},ot=function(e){Object(m.useEffect)((function(){var t=document.title;return document.title="".concat(e," - Must Watch"),function(){document.title=t}}),[e])},ut=function(e){var t=Object(m.useState)({value:e,original:e}),n=Object(_e.a)(t,2),a=n[0],r=n[1];return Object(m.useEffect)((function(){e!==a.value&&r(Object(x.a)(Object(x.a)({},a),{},{value:e}))}),[e,a,r]),e!==a.original},st=function(e){var t=e.active,n=e.closeStack,a=e.children,r=Object(m.useRef)(null);it(r),rt(t,n);var c=at(r,n);return Object(g.jsx)("div",{className:Ae()("ui-stack-wrap",{closing:0!==c}),style:{transform:"scale(".concat(1-c,")")},children:Object(g.jsxs)("div",{className:"ui-stack",children:[Object(g.jsx)("div",{className:"ui-stack-close ui-clickable",onClick:n,children:Object(g.jsx)("i",{className:"icon-close"})}),Object(g.jsx)("div",{ref:r,className:"ui-stack-content",children:a})]})})},lt=Je((function(e,t){var n=e.config,a=e.movie,r=t.id;return{movie:a.movies[r],config:n.images}}),null,(function(e){var t=e.size,n=void 0===t?"w500":t,a=e.backdrop,r=void 0!==a&&a,c=e.onClick,i=void 0===c?null:c,o=e.movie,u=o.title,s=o.backdrop_path,l=o.poster_path,d=e.config,v=Object(m.useState)(!1),j=Object(_e.a)(v,2),f=j[0],b=j[1],O=r&&s||l,h=[d.secure_base_url,n,O].join("");return Object(g.jsx)("div",{onClick:i,className:Ae()("ui-poster",{backdrop:r,"has-click":i}),children:Object(g.jsxs)("div",{className:Ae()("ui-poster-content",{"no-image":!O,loaded:f}),children:[O&&Object(g.jsx)("img",{alt:"",src:h,onLoad:function(){b(!0)}},h),!O&&!r&&Object(g.jsx)("div",{className:"ui-poster-title",children:u})]})})})),dt=Object(Y.a)(Array(5).keys()),vt=function(e){var t=e.voteAverage,n=e.onChange;return Object(g.jsx)("div",{className:"ui-rating",children:dt.map((function(e){return Object(g.jsx)("i",{onClick:function(){n&&n(e)},className:Ae()("icon-star-outline",{"icon-star-rate":null!==t&&t>=2*e,"ui-clickable":n})},e)}))})},jt=n(38),ft=n.n(jt),gt=function(e){var t=e.releaseDate,n=e.originalLanguage,a=e.runTime,r=ut(a),c=[];if(t&&c.push(Object(g.jsx)("span",{children:ft()(t).format("Y")},t)),n&&c.push(Object(g.jsx)("span",{children:n.toUpperCase()},n)),a>0){var i=Math.floor(a/60),o=Math.floor(a%60%60);c.push(Object(g.jsxs)("span",{className:Ae()({"fade-in":r}),children:[i>0&&"".concat(i,"h")," ",o>0&&"".concat(o,"m")]},a))}return Object(g.jsx)("div",{className:"ui-info",children:c.reduce((function(e,t){return[e," / ",t]}))})},mt=function(e){var t=e.genres;return Object(g.jsx)("ul",{className:"ui-genres",children:t.map((function(e){var t=e.id,n=e.name;return Object(g.jsx)("li",{children:n},t)}))})},bt=function(e){var t=e.title,n=e.value;return Object(g.jsxs)("div",{className:"ui-credits",children:[Object(g.jsx)("div",{className:"ui-credits-title",children:t}),Object(g.jsx)("div",{className:"ui-credits-value",children:n})]})},Ot=function(e){var t=e.name,n=e.videoKey,a=e.openVideo,r=Object(m.useState)(!1),c=Object(_e.a)(r,2),i=c[0],o=c[1];return Object(g.jsxs)("div",{className:"ui-videos-item-wrap",onClick:function(){return a({title:t,videoKey:n})},children:[Object(g.jsx)("div",{className:"ui-videos-item",children:Object(g.jsx)("div",{className:Ae()("ui-videos-item-thumb",{loaded:i}),children:Object(g.jsx)("img",{alt:"",src:"https://img.youtube.com/vi/".concat(n,"/hqdefault.jpg"),onLoad:function(){o(!0)}})})}),Object(g.jsx)("div",{className:"ui-videos-item-name",title:t,children:t})]})},ht=Je(null,{openVideo:ze.layout.openStack("video")},(function(e){var t=e.videos,n=e.openVideo;return Object(g.jsx)("div",{className:"ui-videos",children:t.map((function(e){var t=e.id,a=e.name,r=e.key;return Object(g.jsx)(Ot,{name:a,videoKey:r,openVideo:n},t)}))})})),pt=Je((function(e,t){var n=e.user,a=e.movie,r=e.genre,c=e.status,i=t.id;return{language:n.language,movie:a.movies[i],genres:Ke.genre.getGenres({genre:r,movie:a,id:i}),cast:Ke.movie.getCast({movie:a,id:i}),director:Ke.movie.getDirector({movie:a,id:i}),videos:Ke.movie.getYouTubeVideos({movie:a,user:n,id:i}),loadingCredits:c.loading["movie/GET_CREDITS"]}}),{getMovie:ze.movie.getMovie,getCredits:ze.movie.getCredits,getVideos:ze.movie.getVideos},(function(e){var t=e.id,n=e.language,a=e.movie,r=a.title,c=a.vote_average,i=a.release_date,o=a.runtime,u=a.overview,s=a.original_language,l=e.genres,d=e.cast,v=e.director,j=e.videos,f=e.loadingCredits,b=e.getMovie,O=e.getCredits,h=e.getVideos;ot(r),Object(m.useEffect)((function(){b({id:t,language:n})}),[t,n,b]),Object(m.useEffect)((function(){O({id:t})}),[t,O]),Object(m.useEffect)((function(){h({id:t,language:n})}),[t,n,h]);var p=ut(d.length),E=ut(null===v||void 0===v?void 0:v.name),y=ut(j.length);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"movie-stack-backdrop",children:[Object(g.jsx)(lt,{id:t,size:"w1280",backdrop:!0}),Object(g.jsx)("img",{className:"thanks-themoviedb",src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg",alt:""})]}),Object(g.jsxs)("div",{className:"movie-stack-content",children:[Object(g.jsx)("h1",{className:"movie-stack-title",children:r}),c>0&&Object(g.jsx)("div",{className:"movie-stack-rating",children:Object(g.jsx)(vt,{voteAverage:c})}),(i||s||o>0)&&Object(g.jsx)("div",{className:"movie-stack-info",children:Object(g.jsx)(gt,{releaseDate:i,originalLanguage:s,runTime:o})}),Object(g.jsx)("div",{className:"show-up-primary",children:Object(g.jsx)("p",{className:"movie-stack-overview",children:u})}),Object(g.jsx)("div",{className:"show-up-secondary",children:l.length>0&&Object(g.jsx)("div",{className:"movie-stack-genres",children:Object(g.jsx)(mt,{genres:l})})}),Object(g.jsxs)("div",{className:"show-up-tertiary",children:[d.length>0&&Object(g.jsx)("div",{className:Ae()("movie-stack-credits",{"fade-in":p}),children:Object(g.jsx)(bt,{title:"Cast",value:d.map((function(e){return e.name})).reduce((function(e,t){return[e,", ",t]}))})}),v&&Object(g.jsx)("div",{className:Ae()("movie-stack-credits",{"fade-in":E}),children:Object(g.jsx)(bt,{title:"Director",value:v.name})}),(d.length>0||v||!f)&&j.length>0&&Object(g.jsxs)("div",{className:Ae()("movie-stack-videos",{"fade-in":y}),children:[Object(g.jsx)("div",{className:"movie-stack-videos-title",children:"VIDEOS"}),Object(g.jsx)("div",{className:"movie-stack-videos-wrap scroll-lock-ignore",children:Object(g.jsx)(ht,{videos:j})})]})]})]})]})})),Et=function(e,t,n){var a=2*e;n({rating:a===t.rating?null:a})},yt=Je((function(e){var t=e.user,n=e.search,a=e.movie;return{language:t.language,query:n.query,filter:n.filter,loading:n.loading[n.query],results:Ke.movie.getResults({movie:a,search:n})}}),{updateFilter:ze.search.updateFilter,updateQuery:ze.search.updateQuery,searchMovies:ze.search.searchMovies,openMovie:ze.layout.openStack("movie")},(function(e){var t=e.language,n=e.query,a=e.filter,r=e.loading,c=e.results,i=e.updateQuery,o=e.updateFilter,u=e.searchMovies,s=e.openMovie;return ot("Search"),Object(m.useEffect)((function(){n&&u({query:n,language:t})}),[n,t,u]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"search-stack-head",children:Object(g.jsxs)("div",{className:"search-stack-input-wrapper",children:[Object(g.jsx)("input",{autoFocus:!0,type:"text",placeholder:"search movies",value:n,onChange:function(e){return i({query:e.target.value})},className:"search-stack-input"}),Object(g.jsx)("i",{className:"icon-search"}),Object(g.jsx)("div",{className:"search-stack-input-rating",children:Object(g.jsx)(vt,{voteAverage:a.rating,onChange:function(e){return Et(e,a,o)}})})]})}),!r&&!c.length&&Object(g.jsx)("div",{className:"search-stack-empty fade-in",children:Object(g.jsx)("p",{children:"No movies found"})}),c.length>0&&Object(g.jsx)("div",{className:"search-stack-grid",children:c.map((function(e){var t=e.id;return Object(g.jsx)("div",{className:"search-stack-grid-item",children:Object(g.jsx)(lt,{id:t,size:"w342",onClick:function(){return s({id:t})}})},t)}))})]})})),xt=n(39),St=function(e){var t=e.playerRef,n=Object(m.useState)(0),a=Object(_e.a)(n,2),r=a[0],c=a[1];return Object(m.useEffect)((function(){var e=t.current;if(e){var n=e.getDuration()||1,a=setInterval((function(){c(e.getCurrentTime()/n*100)}),500);return function(){return clearInterval(a)}}}),[t,c]),Object(g.jsx)("div",{className:"video-progress",children:Object(g.jsx)("div",{className:"video-progress-fill",style:{transform:"translate3d(-".concat(100-r,"%, 0, 0)")}})})},kt=Je((function(e){return{playingVideo:e.layout.playingVideo}}),{updateVideoState:ze.layout.updateVideoState,openToast:ze.layout.openToast,closeStack:ze.layout.closeStack},(function(e){var t=e.title,n=e.videoKey,a=e.playingVideo,r=e.updateVideoState,c=e.openToast,i=e.closeStack,o=Object(m.useRef)(null),u=Object(m.useState)(!1),s=Object(_e.a)(u,2),l=s[0],d=s[1];Object(m.useEffect)((function(){return function(){r({playing:!1})}}),[r]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(xt.a,{videoId:n,containerClassName:"video-stack",className:Ae()("video-stack-frame",{ready:l,playing:a}),onReady:function(e){o.current=e.target,o.current.setVolume(100),d(!0)},onPlay:function(){return r({playing:!0})},onEnd:function(){return i()},onError:function(){i(),c({message:"Video unavailable, try again later"})},opts:{title:"".concat(t," - Must Watch"),width:"100%",height:"100%",playerVars:{autoplay:1,modestbranding:1,iv_load_policy:3,rel:0,controls:0}}}),Object(g.jsx)("div",{className:"video-stack-overlay",onClick:function(){o.current&&l&&(1!==o.current.getPlayerState()&&o.current.playVideo())},children:a&&Object(g.jsx)(St,{playerRef:o})})]})})),Nt=["en","es","pt"],_t={en:"English",es:"Espa\xf1ol",pt:"Portugu\xeas"},Ct={movie:pt,search:yt,video:kt,language:Je((function(e){return{language:e.user.language}}),{changeLanguage:ze.user.changeLanguage,closeStack:ze.layout.closeStack},(function(e){var t=e.language,n=e.changeLanguage,a=e.closeStack;return Object(g.jsx)("div",{className:"language-stack",children:Object(g.jsx)("ul",{children:Nt.map((function(e){return Object(g.jsxs)("li",{className:"ui-clickable",onClick:function(){n({language:e}),a()},children:[Object(g.jsx)("div",{className:"language-stack-lang",children:Object(g.jsx)(Be,{language:e,size:"x38"})}),Object(g.jsx)("div",{className:Ae()("language-stack-name",{active:t===e}),children:_t[e]})]},e)}))})})}))},Tt=Je((function(e){return{stack:e.layout.stack}}),{closeStack:ze.layout.closeStack},(function(e){var t=e.stack,n=e.closeStack;return Object(g.jsx)(nt,{children:t.map((function(e,a){var r=e.namespace,c=e.props,i=t.length===a+1,o=Ct[r];return o?Object(g.jsx)(et,{namespace:r,active:i,children:Object(g.jsx)(st,{active:i,closeStack:n,children:Object(g.jsx)(o,Object(x.a)({},c))})},r):null}))})})),Mt=function(e){var t=e.message,n=e.closeToast;return Object(m.useEffect)((function(){var e=setTimeout(n,4e3);return function(){clearTimeout(e)}}),[n]),Object(g.jsx)("div",{className:"ui-toast",onClick:n,children:Object(g.jsx)("p",{className:"ui-toast-message",children:t})},t)},Rt=Je((function(e){return{toast:e.layout.toast}}),{closeToast:ze.layout.closeToast},(function(e){var t=e.toast,n=e.closeToast;return Object(g.jsx)(nt,{children:t.open&&Object(g.jsx)(et,{active:!0,namespace:"ui-toast-layer",children:Object(g.jsx)(Mt,{message:t.message,closeToast:n})})})})),wt=Je((function(e){var t=e.layout;return{stackOpen:t.stack.length>0,playingVideo:t.playingVideo,hasVideoStack:t.stack.find((function(e){return"video"===e.namespace}))}}),null,(function(e){var t=e.stackOpen,n=e.hasVideoStack,a=e.playingVideo,r=e.children;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("main",{className:Ae()("ui-main",{"stack-open":t,"playing-video":a,"has-video-stack":n}),children:[Object(g.jsx)("div",{className:"ui-main-header",children:Object(g.jsx)(Xe,{})}),Object(g.jsx)("div",{className:"ui-main-content",children:r})]}),Object(g.jsx)(Tt,{}),Object(g.jsx)(Rt,{})]})})),Vt=Je((function(e){var t=e.user,n=e.movie;return{language:t.language,movies:Ke.movie.getMovies({movie:n})}}),{getConfiguration:ze.config.getConfiguration,getGenres:ze.genre.getGenres,discoverMovies:ze.movie.discoverMovies,openMovie:ze.layout.openStack("movie")},(function(e){var t=e.movies,n=e.language,a=e.getConfiguration,r=e.getGenres,c=e.discoverMovies,i=e.openMovie,o=Object(m.useRef)(null),u=Object(m.useState)(1),s=Object(_e.a)(u,2),l=s[0],d=s[1],v=Object(m.useState)(0),j=Object(_e.a)(v,2),f=j[0],b=j[1];Object(m.useEffect)((function(){a()}),[a]),Object(m.useEffect)((function(){r({language:n})}),[n,r]),Object(m.useEffect)((function(){c({page:l,language:n})}),[l,n,c]),Object(m.useEffect)((function(){var e=function(){document.hidden||c({page:l,language:n})};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}),[l,n,c]);var O=Object(m.useMemo)((function(){return t.length}),[t]),h=20,p=window.innerWidth>768?40:20;Object(m.useEffect)((function(){var e=Math.max(O-((f||1)*h+40),0),t=(O-e)/h,n=o.current,a=f+1===l,r=function(e){var n=e.target,r=(n.scrollLeft+window.innerWidth)/(n.scrollWidth||1)*t-f;0===n.scrollLeft&&d(1),r>=.6&&a&&(d(l+1),a=!1)};if(n)return n.addEventListener("scroll",r),function(){n.removeEventListener("scroll",r)}}),[f,l,d,o,O]),Object(m.useLayoutEffect)((function(){var e=o.current,t=Math.max(O-((f||1)*h+40),0),n=O-t,a=function(e){var t=e.target,a=(t.scrollLeft+window.innerWidth)/(t.scrollWidth||1),r=Math.floor(a*n/h);r!==f&&b(r)};if(e)return e.addEventListener("scroll",a),function(){e.removeEventListener("scroll",a)}}),[f,b,O,o]);var E=Math.max((f-1)*h,0),y=E,x=Math.min(E+60,O),S=Array.from({length:x-y},(function(e,t){return t+y})),k=window.innerWidth-p,N=window.innerWidth>768?.3*(k+p):.85*(k+p);return Object(g.jsx)("div",{ref:o,className:"main",children:Object(g.jsxs)("div",{className:"movie-grid",style:{width:(E+S.length)*N},children:[Object(g.jsx)("div",{style:{minWidth:E*N,minHeight:1}}),S.map((function(e,n){var a=t[e];if(!a)return null;var r=a.id,c=e+4>=f*h&&e-4<f*h+h;return Object(g.jsx)("div",{className:"movie-grid-item","data-index":e+1,children:c&&Object(g.jsx)(lt,{id:r,onClick:function(){return i({id:r})}})},n)}))]})})})),It=(n(82),function(){return Object(g.jsx)(p.a,{store:Ge,children:Object(g.jsx)(wt,{children:Object(g.jsx)(Vt,{})})})}),Lt=document.getElementById("root");h.a.render(Object(g.jsx)(b.a.StrictMode,{children:Object(g.jsx)(It,{})}),Lt),setTimeout((function(){return Lt.classList.add("ready")}),1500)}},[[83,1,2]]]);